{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getSubject, createSubject, updateSubject } from './subjectService';\nimport { Form, Input, Button, Breadcrumb, message } from 'antd';\nconst {\n  TextArea\n} = Input;\nconst SubjectSavePage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [form] = Form.useForm();\n  const isEditing = id !== undefined;\n  useEffect(() => {\n    if (isEditing) {\n      getSubject(id).then(data => {\n        form.setFieldsValue(data);\n      }).catch(err => {\n        console.error('Error fetching subject', err);\n        message.error('Lỗi khi tải thông tin môn học');\n      });\n    }\n  }, [id, form]);\n  const handleSubmit = async values => {\n    try {\n      const result = isEditing ? await updateSubject(id, values) : await createSubject(values);\n      if (result.success) {\n        navigate('/subjects');\n        message.success('Lưu thông tin môn học thành công');\n      } else {\n        throw new Error('Failed to save the subject');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      message.error('Lỗi khi lưu thông tin môn học');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\",\n      maxWidth: \"600px\",\n      margin: \"0 auto\"\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      margin: '16px 0'\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"Trang ch\\u1EE7\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"M\\xF4n h\\u1ECDc\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, isEditing ? 'Sửa môn học' : 'Thêm môn học')), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"vertical\",\n    onFinish: handleSubmit\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"name\",\n    label: \"T\\xEAn m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng nhập tên môn học!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"code\",\n    label: \"M\\xE3 m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng nhập mã môn học!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"status\",\n    label: \"Tr\\u1EA1ng th\\xE1i\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng chọn trạng thái!'\n    }]\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"active\"\n  }, \"Ho\\u1EA1t \\u0111\\u1ED9ng\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"inactive\"\n  }, \"Kh\\xF4ng ho\\u1EA1t \\u0111\\u1ED9ng\"))), /*#__PURE__*/React.createElement(Form.Item, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, isEditing ? 'Cập nhật' : 'Thêm mới'), isEditing && /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginLeft: '8px'\n    },\n    onClick: () => form.resetFields(),\n    danger: true\n  }, \"H\\u1EE7y b\\u1ECF\"))));\n};\n_s(SubjectSavePage, \"2ivoqBq1mC56BMg/IsESvMR8bL4=\", false, function () {\n  return [useParams, useNavigate, Form.useForm];\n});\n_c = SubjectSavePage;\nexport default SubjectSavePage;\nvar _c;\n$RefreshReg$(_c, \"SubjectSavePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getSubject","createSubject","updateSubject","Form","Input","Button","Breadcrumb","message","TextArea","SubjectSavePage","_s","id","navigate","form","useForm","isEditing","undefined","then","data","setFieldsValue","catch","err","console","error","handleSubmit","values","result","success","Error","createElement","style","padding","maxWidth","margin","Item","layout","onFinish","name","label","rules","required","Select","placeholder","Option","value","type","htmlType","marginLeft","onClick","resetFields","danger","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/Subject/SubjectSavePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getSubject, createSubject, updateSubject } from './subjectService';\r\nimport { Form, Input, Button, Breadcrumb, message } from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst SubjectSavePage = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [form] = Form.useForm();\r\n    const isEditing = id !== undefined;\r\n\r\n    useEffect(() => {\r\n        if (isEditing) {\r\n            getSubject(id).then(data => {\r\n                form.setFieldsValue(data);\r\n            }).catch(err => {\r\n                console.error('Error fetching subject', err);\r\n                message.error('Lỗi khi tải thông tin môn học');\r\n            });\r\n        }\r\n    }, [id, form]);\r\n\r\n    const handleSubmit = async (values) => {\r\n        try {\r\n            const result = isEditing ? await updateSubject(id, values) : await createSubject(values);\r\n            if (result.success) {\r\n                navigate('/subjects');\r\n                message.success('Lưu thông tin môn học thành công');\r\n            } else {\r\n                throw new Error('Failed to save the subject');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            message.error('Lỗi khi lưu thông tin môn học');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\", maxWidth: \"600px\", margin: \"0 auto\" }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n                <Breadcrumb.Item>Trang chủ</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Môn học</Breadcrumb.Item>\r\n                <Breadcrumb.Item>{isEditing ? 'Sửa môn học' : 'Thêm môn học'}</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <Form form={form} layout=\"vertical\" onFinish={handleSubmit}>\r\n                <Form.Item name=\"name\" label=\"Tên môn học\" rules={[{ required: true, message: 'Vui lòng nhập tên môn học!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"code\" label=\"Mã môn học\" rules={[{ required: true, message: 'Vui lòng nhập mã môn học!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"status\" label=\"Trạng thái\" rules={[{ required: true, message: 'Vui lòng chọn trạng thái!' }]}>\r\n                    <Select placeholder=\"Chọn trạng thái\">\r\n                        <Option value=\"active\">Hoạt động</Option>\r\n                        <Option value=\"inactive\">Không hoạt động</Option>\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">{isEditing ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n                    {isEditing && (\r\n                        <Button style={{ marginLeft: '8px' }} onClick={() => form.resetFields()} danger>\r\n                            Hủy bỏ\r\n                        </Button>\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubjectSavePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}