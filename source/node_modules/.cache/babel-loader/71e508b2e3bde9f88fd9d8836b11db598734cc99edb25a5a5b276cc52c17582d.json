{"ast":null,"code":"var _s = $RefreshSig$();\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { Form, InputNumber } from 'antd';\nimport React from 'react';\nimport useFormField from '@hooks/useFormField';\nimport { formatNumber } from '@utils';\nimport { useCurrency } from '../elements/Currency';\nimport { useSelector } from 'react-redux';\nimport { settingSystemSelector } from '@selectors/app';\nimport { settingKeyName } from '@constants/masterData';\nimport useMoneyUnit from '@hooks/useMoneyUnit';\nconst NumericField = props => {\n  _s();\n  const {\n    size = 'large',\n    label,\n    name,\n    disabled,\n    min,\n    max,\n    width,\n    onChange,\n    onBlur,\n    formatter,\n    parser,\n    className,\n    defaultValue,\n    required,\n    isCurrency,\n    readOnly,\n    addonAfter,\n    initialValue\n  } = props;\n  const currency = useCurrency();\n  const moneyUnit = useMoneyUnit();\n  const fieldParser = value => {\n    return value.replace(/\\$\\s?|(,*)/g, '');\n  };\n  const fieldFormatter = value => {\n    return formatNumber(value);\n  };\n  const {\n    rules,\n    placeholder\n  } = useFormField(props);\n  return /*#__PURE__*/React.createElement(Form.Item, {\n    label: label,\n    name: name,\n    rules: rules,\n    className: className\n  }, /*#__PURE__*/React.createElement(InputNumber, _extends({\n    addonAfter: isCurrency ? moneyUnit : addonAfter,\n    placeholder: placeholder,\n    max: max,\n    min: min,\n    disabled: disabled,\n    style: {\n      width: width || '100%'\n    },\n    formatter: formatter || fieldFormatter,\n    parser: parser || fieldParser,\n    onChange: onChange,\n    onBlur: onBlur,\n    readOnly: readOnly,\n    defaultValue: defaultValue\n  }, props)));\n};\n_s(NumericField, \"Z3W6ByJju1V0iPW2YU0U7Nuy6RA=\", false, function () {\n  return [useCurrency, useMoneyUnit, useFormField];\n});\n_c = NumericField;\nexport default NumericField;\nvar _c;\n$RefreshReg$(_c, \"NumericField\");","map":{"version":3,"names":["Form","InputNumber","React","useFormField","formatNumber","useCurrency","useSelector","settingSystemSelector","settingKeyName","useMoneyUnit","NumericField","props","_s","size","label","name","disabled","min","max","width","onChange","onBlur","formatter","parser","className","defaultValue","required","isCurrency","readOnly","addonAfter","initialValue","currency","moneyUnit","fieldParser","value","replace","fieldFormatter","rules","placeholder","createElement","Item","_extends","style","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/components/common/form/NumericField.js"],"sourcesContent":["import { Form, InputNumber } from 'antd';\r\nimport React from 'react';\r\nimport useFormField from '@hooks/useFormField';\r\nimport { formatNumber } from '@utils';\r\nimport { useCurrency } from '../elements/Currency';\r\nimport { useSelector } from 'react-redux';\r\nimport { settingSystemSelector } from '@selectors/app';\r\nimport { settingKeyName } from '@constants/masterData';\r\nimport useMoneyUnit from '@hooks/useMoneyUnit';\r\n\r\nconst NumericField = (props) => {\r\n    const {\r\n        size = 'large',\r\n        label,\r\n        name,\r\n        disabled,\r\n        min,\r\n        max,\r\n        width,\r\n        onChange,\r\n        onBlur,\r\n        formatter,\r\n        parser,\r\n        className,\r\n        defaultValue,\r\n        required,\r\n        isCurrency,\r\n        readOnly,\r\n        addonAfter,\r\n        initialValue,\r\n    } = props;\r\n    const currency = useCurrency();\r\n    const moneyUnit = useMoneyUnit();\r\n    const fieldParser = (value) => {\r\n        return value.replace(/\\$\\s?|(,*)/g, '');\r\n    };\r\n\r\n    const fieldFormatter = (value) => {\r\n        return formatNumber(value);\r\n    };\r\n\r\n    const { rules, placeholder } = useFormField(props);\r\n\r\n    return (\r\n        <Form.Item label={label} name={name} rules={rules} className={className}>\r\n            <InputNumber\r\n                addonAfter={isCurrency ? moneyUnit : addonAfter}\r\n                placeholder={placeholder}\r\n                max={max}\r\n                min={min}\r\n                disabled={disabled}\r\n                style={{ width: width || '100%' }}\r\n                formatter={formatter || fieldFormatter}\r\n                parser={parser || fieldParser}\r\n                onChange={onChange}\r\n                onBlur={onBlur}\r\n                readOnly={readOnly}\r\n                defaultValue={defaultValue}\r\n                {...props}\r\n            />\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nexport default NumericField;\r\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,WAAW,QAAQ,MAAM;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,SAASC,YAAY,QAAQ,QAAQ;AACrC,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,qBAAqB,QAAQ,gBAAgB;AACtD,SAASC,cAAc,QAAQ,uBAAuB;AACtD,OAAOC,YAAY,MAAM,qBAAqB;AAE9C,MAAMC,YAAY,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC5B,MAAM;IACFC,IAAI,GAAG,OAAO;IACdC,KAAK;IACLC,IAAI;IACJC,QAAQ;IACRC,GAAG;IACHC,GAAG;IACHC,KAAK;IACLC,QAAQ;IACRC,MAAM;IACNC,SAAS;IACTC,MAAM;IACNC,SAAS;IACTC,YAAY;IACZC,QAAQ;IACRC,UAAU;IACVC,QAAQ;IACRC,UAAU;IACVC;EACJ,CAAC,GAAGnB,KAAK;EACT,MAAMoB,QAAQ,GAAG1B,WAAW,CAAC,CAAC;EAC9B,MAAM2B,SAAS,GAAGvB,YAAY,CAAC,CAAC;EAChC,MAAMwB,WAAW,GAAIC,KAAK,IAAK;IAC3B,OAAOA,KAAK,CAACC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC;EAC3C,CAAC;EAED,MAAMC,cAAc,GAAIF,KAAK,IAAK;IAC9B,OAAO9B,YAAY,CAAC8B,KAAK,CAAC;EAC9B,CAAC;EAED,MAAM;IAAEG,KAAK;IAAEC;EAAY,CAAC,GAAGnC,YAAY,CAACQ,KAAK,CAAC;EAElD,oBACIT,KAAA,CAAAqC,aAAA,CAACvC,IAAI,CAACwC,IAAI;IAAC1B,KAAK,EAAEA,KAAM;IAACC,IAAI,EAAEA,IAAK;IAACsB,KAAK,EAAEA,KAAM;IAACb,SAAS,EAAEA;EAAU,gBACpEtB,KAAA,CAAAqC,aAAA,CAACtC,WAAW,EAAAwC,QAAA;IACRZ,UAAU,EAAEF,UAAU,GAAGK,SAAS,GAAGH,UAAW;IAChDS,WAAW,EAAEA,WAAY;IACzBpB,GAAG,EAAEA,GAAI;IACTD,GAAG,EAAEA,GAAI;IACTD,QAAQ,EAAEA,QAAS;IACnB0B,KAAK,EAAE;MAAEvB,KAAK,EAAEA,KAAK,IAAI;IAAO,CAAE;IAClCG,SAAS,EAAEA,SAAS,IAAIc,cAAe;IACvCb,MAAM,EAAEA,MAAM,IAAIU,WAAY;IAC9Bb,QAAQ,EAAEA,QAAS;IACnBC,MAAM,EAAEA,MAAO;IACfO,QAAQ,EAAEA,QAAS;IACnBH,YAAY,EAAEA;EAAa,GACvBd,KAAK,CACZ,CACM,CAAC;AAEpB,CAAC;AAACC,EAAA,CApDIF,YAAY;EAAA,QAqBGL,WAAW,EACVI,YAAY,EASCN,YAAY;AAAA;AAAAwC,EAAA,GA/BzCjC,YAAY;AAsDlB,eAAeA,YAAY;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}