{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getSubject, createSubject, updateSubject } from './subjectService';\nimport { Form, Input, Button, Breadcrumb, message } from 'antd';\nconst {\n  TextArea\n} = Input;\nconst SubjectSavePage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [form] = Form.useForm();\n  const isNewSubject = !id;\n  useEffect(() => {\n    if (!isNewSubject) {\n      loadSubject();\n    }\n  }, [id]);\n  const loadSubject = async () => {\n    try {\n      const data = await getSubject(id);\n      form.setFieldsValue(data);\n    } catch (error) {\n      message.error('Failed to load the subject');\n    }\n  };\n  const handleSubmit = async values => {\n    try {\n      const response = isNewSubject ? await createSubject(values) : await updateSubject(id, values);\n      if (response.success) {\n        message.success(isNewSubject ? 'Subject created successfully!' : 'Subject updated successfully!');\n        navigate('/subjects');\n      } else {\n        throw new Error('Failed to save the subject');\n      }\n    } catch (error) {\n      message.error('Failed to save the subject');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      margin: '16px 0'\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"Trang ch\\u1EE7\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"M\\xF4n h\\u1ECDc\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, isNewSubject ? 'Thêm môn học' : 'Sửa môn học')), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    onFinish: handleSubmit,\n    layout: \"vertical\"\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"subjectName\",\n    label: \"T\\xEAn m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Please input the subject name!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"subjectCode\",\n    label: \"M\\xE3 m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Please input the subject code!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"description\",\n    label: \"M\\xF4 t\\u1EA3\"\n  }, /*#__PURE__*/React.createElement(TextArea, null)), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, isNewSubject ? 'Tạo mới' : 'Cập nhật')));\n};\n_s(SubjectSavePage, \"2ivoqBq1mC56BMg/IsESvMR8bL4=\", false, function () {\n  return [useParams, useNavigate, Form.useForm];\n});\n_c = SubjectSavePage;\nexport default SubjectSavePage;\nvar _c;\n$RefreshReg$(_c, \"SubjectSavePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getSubject","createSubject","updateSubject","Form","Input","Button","Breadcrumb","message","TextArea","SubjectSavePage","_s","id","navigate","form","useForm","isNewSubject","loadSubject","data","setFieldsValue","error","handleSubmit","values","response","success","Error","createElement","style","margin","Item","onFinish","layout","name","label","rules","required","type","htmlType","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/Subject/SubjectSavePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getSubject, createSubject, updateSubject } from './subjectService';\r\nimport { Form, Input, Button, Breadcrumb, message } from 'antd';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst SubjectSavePage = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [form] = Form.useForm();\r\n    const isNewSubject = !id;\r\n\r\n    useEffect(() => {\r\n        if (!isNewSubject) {\r\n            loadSubject();\r\n        }\r\n    }, [id]);\r\n\r\n    const loadSubject = async () => {\r\n        try {\r\n            const data = await getSubject(id);\r\n            form.setFieldsValue(data);\r\n        } catch (error) {\r\n            message.error('Failed to load the subject');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (values) => {\r\n        try {\r\n            const response = isNewSubject ? await createSubject(values) : await updateSubject(id, values);\r\n            if (response.success) {\r\n                message.success(isNewSubject ? 'Subject created successfully!' : 'Subject updated successfully!');\r\n                navigate('/subjects');\r\n            } else {\r\n                throw new Error('Failed to save the subject');\r\n            }\r\n        } catch (error) {\r\n            message.error('Failed to save the subject');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n                <Breadcrumb.Item>Trang chủ</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Môn học</Breadcrumb.Item>\r\n                <Breadcrumb.Item>{isNewSubject ? 'Thêm môn học' : 'Sửa môn học'}</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <Form form={form} onFinish={handleSubmit} layout=\"vertical\">\r\n                <Form.Item\r\n                    name=\"subjectName\"\r\n                    label=\"Tên môn học\"\r\n                    rules={[{ required: true, message: 'Please input the subject name!' }]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"subjectCode\"\r\n                    label=\"Mã môn học\"\r\n                    rules={[{ required: true, message: 'Please input the subject code!' }]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"description\" label=\"Mô tả\">\r\n                    <TextArea />\r\n                </Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    {isNewSubject ? 'Tạo mới' : 'Cập nhật'}\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubjectSavePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}