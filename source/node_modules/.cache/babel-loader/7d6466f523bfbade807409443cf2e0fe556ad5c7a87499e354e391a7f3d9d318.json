{"ast":null,"code":"var _s = $RefreshSig$();\nimport PageWrapper from '@components/common/layout/PageWrapper';\nimport apiConfig from '@constants/apiConfig';\nimport useSaveBase from '@hooks/useSaveBase';\nimport React from 'react';\nimport { generatePath, useParams } from 'react-router-dom';\nimport routes from './routes';\nimport CategoryForm from './CategoryForm';\nimport useTranslate from '@hooks/useTranslate';\nimport { defineMessages } from 'react-intl';\nimport { categoryKinds } from '@constants';\nconst messages = defineMessages({\n  objectName: {\n    \"id\": \"modules.category.categoryEdu.CategorySavePage.objectName\",\n    \"defaultMessage\": 'loại'\n  },\n  category: {\n    \"id\": \"modules.category.categoryEdu.CategorySavePage.category\",\n    \"defaultMessage\": 'Danh mục trường'\n  }\n});\nconst CategorySavePage = () => {\n  _s();\n  const categoryId = useParams();\n  const translate = useTranslate();\n  const queryParameters = new URLSearchParams(window.location.search);\n  // const parentId = queryParameters.get(\"parentId\");\n  const kindOfEdu = categoryKinds.CATEGORY_KIND_EDUCATION;\n  const {\n    detail,\n    mixinFuncs,\n    loading,\n    setIsChangedFormValues,\n    isEditing,\n    title\n  } = useSaveBase({\n    apiConfig: {\n      getById: apiConfig.category.getById,\n      create: apiConfig.category.create,\n      update: apiConfig.category.update\n    },\n    options: {\n      getListUrl: generatePath(routes.categoryListPageEdu.path, {\n        categoryId\n      }),\n      objectName: translate.formatMessage(messages.objectName)\n    },\n    override: funcs => {\n      funcs.prepareUpdateData = data => {\n        return {\n          ...data,\n          id: detail.id\n        };\n      };\n      funcs.prepareCreateData = data => {\n        return {\n          ...data,\n          categoryKind: kindOfEdu,\n          categoryOrdering: 0\n        };\n      };\n    }\n  });\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    loading: loading,\n    routes: [{\n      breadcrumbName: translate.formatMessage(messages.category),\n      path: generatePath(routes.categoryListPageEdu.path, {\n        categoryId\n      })\n    }, {\n      breadcrumbName: title\n    }],\n    title: title\n  }, /*#__PURE__*/React.createElement(CategoryForm, {\n    setIsChangedFormValues: setIsChangedFormValues,\n    dataDetail: detail ? detail : {},\n    formId: mixinFuncs.getFormId(),\n    isEditing: isEditing,\n    actions: mixinFuncs.renderActions(),\n    onSubmit: mixinFuncs.onSave\n  }));\n};\n_s(CategorySavePage, \"s2Me+KTQu9EozWqi2nc0Lt+bTSc=\", false, function () {\n  return [useParams, useTranslate, useSaveBase];\n});\n_c = CategorySavePage;\nexport default CategorySavePage;\nvar _c;\n$RefreshReg$(_c, \"CategorySavePage\");","map":{"version":3,"names":["PageWrapper","apiConfig","useSaveBase","React","generatePath","useParams","routes","CategoryForm","useTranslate","defineMessages","categoryKinds","messages","objectName","category","CategorySavePage","_s","categoryId","translate","queryParameters","URLSearchParams","window","location","search","kindOfEdu","CATEGORY_KIND_EDUCATION","detail","mixinFuncs","loading","setIsChangedFormValues","isEditing","title","getById","create","update","options","getListUrl","categoryListPageEdu","path","formatMessage","override","funcs","prepareUpdateData","data","id","prepareCreateData","categoryKind","categoryOrdering","createElement","breadcrumbName","dataDetail","formId","getFormId","actions","renderActions","onSubmit","onSave","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/category/categoryEdu/CategorySavePage.js"],"sourcesContent":["import PageWrapper from '@components/common/layout/PageWrapper';\r\nimport apiConfig from '@constants/apiConfig';\r\nimport useSaveBase from '@hooks/useSaveBase';\r\nimport React from 'react';\r\nimport { generatePath, useParams } from 'react-router-dom';\r\nimport routes from './routes';\r\nimport CategoryForm from './CategoryForm';\r\nimport useTranslate from '@hooks/useTranslate';\r\nimport { defineMessages } from 'react-intl';\r\nimport { categoryKinds } from '@constants';\r\n\r\nconst messages = defineMessages({\r\n    objectName: 'loại',\r\n    category: 'Danh mục trường',\r\n});\r\n\r\nconst CategorySavePage = () => {\r\n    const categoryId = useParams();\r\n    const translate = useTranslate();\r\n\r\n    const queryParameters = new URLSearchParams(window.location.search);\r\n    // const parentId = queryParameters.get(\"parentId\");\r\n    const kindOfEdu = categoryKinds.CATEGORY_KIND_EDUCATION;\r\n\r\n    const { detail, mixinFuncs, loading, setIsChangedFormValues, isEditing, title } = useSaveBase({\r\n        apiConfig: {\r\n            getById: apiConfig.category.getById,\r\n            create: apiConfig.category.create,\r\n            update: apiConfig.category.update,\r\n        },\r\n        options: {\r\n            getListUrl: generatePath(routes.categoryListPageEdu.path, { categoryId }),\r\n            objectName: translate.formatMessage(messages.objectName),\r\n        },\r\n        override: (funcs) => {\r\n            funcs.prepareUpdateData = (data) => {\r\n                return {\r\n                    ...data,\r\n                    id: detail.id,\r\n                };\r\n            };\r\n            funcs.prepareCreateData = (data) => {\r\n                return {\r\n                    ...data,\r\n                    categoryKind: kindOfEdu,\r\n                    categoryOrdering: 0,\r\n                };\r\n            };\r\n        },\r\n    });\r\n\r\n    return (\r\n        <PageWrapper\r\n            loading={loading}\r\n            routes={[\r\n                {\r\n                    breadcrumbName: translate.formatMessage(messages.category),\r\n                    path: generatePath(routes.categoryListPageEdu.path, { categoryId }),\r\n                },\r\n                { breadcrumbName: title },\r\n            ]}\r\n            title={title}\r\n        >\r\n            <CategoryForm\r\n                setIsChangedFormValues={setIsChangedFormValues}\r\n                dataDetail={detail ? detail : {}}\r\n                formId={mixinFuncs.getFormId()}\r\n                isEditing={isEditing}\r\n                actions={mixinFuncs.renderActions()}\r\n                onSubmit={mixinFuncs.onSave}\r\n            />\r\n        </PageWrapper>\r\n    );\r\n};\r\nexport default CategorySavePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}