{"ast":null,"code":"var _s = $RefreshSig$();\nimport PageWrapper from '@components/common/layout/PageWrapper';\nimport ListPage from '@components/common/layout/ListPage';\nimport BaseTable from '@components/common/table/BaseTable';\nimport useListBase from '@hooks/useListBase';\nimport apiConfig from '@constants/apiConfig';\nimport React from 'react';\nimport { defineMessages, FormattedMessage } from 'react-intl';\nimport useTranslate from '@hooks/useTranslate';\nimport { DATE_FORMAT_VALUE, DEFAULT_FORMAT, DEFAULT_TABLE_ITEM_SIZE } from '@constants/index';\nimport { convertUtcToLocalTime } from '@utils/index';\nimport { UserOutlined, BookOutlined } from '@ant-design/icons';\nimport route from '@modules/account/student/routes';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Tag, Avatar } from 'antd';\nimport { statusOptions } from '@constants/masterData';\nimport { FieldTypes } from '@constants/formConfig';\nimport { AppConstants } from '@constants';\nimport { CourseIcon } from '@assets/icons';\nimport { BaseTooltip } from '@components/common/form/BaseTooltip';\nimport AvatarField from '@components/common/form/AvatarField';\nimport { commonMessage } from '@locales/intl';\nimport routes from '@routes';\nconst message = defineMessages({\n  objectName: {\n    \"id\": \"modules.account.student.index.objectName\",\n    \"defaultMessage\": 'Sinh viên'\n  }\n});\nconst StudentListPage = () => {\n  _s();\n  const translate = useTranslate();\n  const navigate = useNavigate();\n  const statusValues = translate.formatKeys(statusOptions, ['label']);\n  const {\n    data,\n    mixinFuncs,\n    loading,\n    pagination,\n    queryFilter\n  } = useListBase({\n    apiConfig: apiConfig.student,\n    options: {\n      pageSize: DEFAULT_TABLE_ITEM_SIZE,\n      objectName: translate.formatMessage(message.objectName)\n    },\n    override: funcs => {\n      funcs.mappingData = response => {\n        if (response.result === true) {\n          return {\n            data: response.data.content,\n            total: response.data.totalElements\n          };\n        }\n      };\n    }\n  });\n  const columns = [{\n    title: '#',\n    dataIndex: ['account', 'avatar'],\n    align: 'center',\n    width: 80,\n    render: avatar => /*#__PURE__*/React.createElement(AvatarField, {\n      size: \"large\",\n      icon: /*#__PURE__*/React.createElement(UserOutlined, null),\n      src: avatar ? `${AppConstants.contentRootUrl}${avatar}` : null\n    })\n  }, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"modules.account.student.index.3369588548\",\n      defaultMessage: \"H\\u1ECD v\\xE0 t\\xEAn\"\n    }),\n    dataIndex: ['account', 'fullName']\n  }, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"modules.account.student.index.3525434277\",\n      defaultMessage: \"Ng\\xE0y sinh\"\n    }),\n    dataIndex: ['account', 'birthday'],\n    render: birthday => {\n      const result = convertUtcToLocalTime(birthday, DEFAULT_FORMAT, DATE_FORMAT_VALUE);\n      return /*#__PURE__*/React.createElement(\"div\", null, result);\n    }\n  }, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"modules.account.student.index.3533974188\",\n      defaultMessage: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n    }),\n    dataIndex: ['account', 'phone']\n  }, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"modules.account.student.index.3571971952\",\n      defaultMessage: \"Email\"\n    }),\n    dataIndex: ['account', 'email']\n  }, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"modules.account.student.index.1290606335\",\n      defaultMessage: \"Tr\\u01B0\\u1EDDng\"\n    }),\n    dataIndex: ['university', 'categoryName']\n  }, {\n    title: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"modules.account.student.index.2533234280\",\n      defaultMessage: \"H\\u1EC7\"\n    }),\n    dataIndex: ['studyClass', 'categoryName']\n  }, mixinFuncs.renderStatusColumn({\n    width: '120px'\n  }), mixinFuncs.renderActionColumn({\n    edit: true,\n    delete: true\n  }, {\n    width: '120px'\n  })];\n  const searchFields = [{\n    key: 'fullName',\n    placeholder: translate.formatMessage(commonMessage.name)\n  }, {\n    key: 'status',\n    placeholder: translate.formatMessage(commonMessage.status),\n    type: FieldTypes.SELECT,\n    options: statusValues,\n    submitOnChanged: true\n  }];\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    routes: [{\n      breadcrumbName: translate.formatMessage(commonMessage.student)\n    }]\n  }, /*#__PURE__*/React.createElement(ListPage, {\n    searchForm: mixinFuncs.renderSearchForm({\n      fields: searchFields,\n      initialValues: queryFilter\n    }),\n    actionBar: mixinFuncs.renderActionBar(),\n    baseTable: /*#__PURE__*/React.createElement(BaseTable, {\n      onChange: mixinFuncs.changePagination,\n      columns: columns,\n      dataSource: data,\n      loading: loading,\n      pagination: pagination\n    })\n  }));\n};\n_s(StudentListPage, \"a9XFRHcUblA1Ze5mqZ7bKIIrOfo=\", false, function () {\n  return [useTranslate, useNavigate, useListBase];\n});\n_c = StudentListPage;\nexport default StudentListPage;\nvar _c;\n$RefreshReg$(_c, \"StudentListPage\");","map":{"version":3,"names":["PageWrapper","ListPage","BaseTable","useListBase","apiConfig","React","defineMessages","FormattedMessage","useTranslate","DATE_FORMAT_VALUE","DEFAULT_FORMAT","DEFAULT_TABLE_ITEM_SIZE","convertUtcToLocalTime","UserOutlined","BookOutlined","route","useNavigate","Button","Tag","Avatar","statusOptions","FieldTypes","AppConstants","CourseIcon","BaseTooltip","AvatarField","commonMessage","routes","message","objectName","StudentListPage","_s","translate","navigate","statusValues","formatKeys","data","mixinFuncs","loading","pagination","queryFilter","student","options","pageSize","formatMessage","override","funcs","mappingData","response","result","content","total","totalElements","columns","title","dataIndex","align","width","render","avatar","createElement","size","icon","src","contentRootUrl","id","defaultMessage","birthday","renderStatusColumn","renderActionColumn","edit","delete","searchFields","key","placeholder","name","status","type","SELECT","submitOnChanged","breadcrumbName","searchForm","renderSearchForm","fields","initialValues","actionBar","renderActionBar","baseTable","onChange","changePagination","dataSource","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/account/student/index.js"],"sourcesContent":["import PageWrapper from '@components/common/layout/PageWrapper';\r\nimport ListPage from '@components/common/layout/ListPage';\r\nimport BaseTable from '@components/common/table/BaseTable';\r\nimport useListBase from '@hooks/useListBase';\r\nimport apiConfig from '@constants/apiConfig';\r\nimport React from 'react';\r\nimport { defineMessages, FormattedMessage } from 'react-intl';\r\nimport useTranslate from '@hooks/useTranslate';\r\nimport { DATE_FORMAT_VALUE, DEFAULT_FORMAT, DEFAULT_TABLE_ITEM_SIZE } from '@constants/index';\r\nimport { convertUtcToLocalTime } from '@utils/index';\r\nimport { UserOutlined, BookOutlined } from '@ant-design/icons';\r\nimport route from '@modules/account/student/routes';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, Tag, Avatar } from 'antd';\r\nimport { statusOptions } from '@constants/masterData';\r\nimport { FieldTypes } from '@constants/formConfig';\r\nimport { AppConstants } from '@constants';\r\nimport { CourseIcon } from '@assets/icons';\r\nimport { BaseTooltip } from '@components/common/form/BaseTooltip';\r\nimport AvatarField from '@components/common/form/AvatarField';\r\nimport { commonMessage } from '@locales/intl';\r\nimport routes from '@routes';\r\n\r\nconst message = defineMessages({\r\n    objectName: 'Sinh viên',\r\n});\r\n\r\nconst StudentListPage = () => {\r\n    const translate = useTranslate();\r\n    const navigate = useNavigate();\r\n    const statusValues = translate.formatKeys(statusOptions, ['label']);\r\n    const { data, mixinFuncs, loading, pagination, queryFilter } = useListBase({\r\n        apiConfig: apiConfig.student,\r\n        options: {\r\n            pageSize: DEFAULT_TABLE_ITEM_SIZE,\r\n            objectName: translate.formatMessage(message.objectName),\r\n        },\r\n        override: (funcs) => {\r\n            funcs.mappingData = (response) => {\r\n                if (response.result === true) {\r\n                    return {\r\n                        data: response.data.content,\r\n                        total: response.data.totalElements,\r\n                    };\r\n                }\r\n            };\r\n           \r\n        },\r\n    });\r\n\r\n    const columns = [\r\n        {\r\n            title: '#',\r\n            dataIndex: ['account', 'avatar'],\r\n            align: 'center',\r\n            width: 80,\r\n            render: (avatar) => (\r\n                <AvatarField\r\n                    size=\"large\"\r\n                    icon={<UserOutlined />}\r\n                    src={avatar ? `${AppConstants.contentRootUrl}${avatar}` : null}\r\n                />\r\n            ),\r\n        },\r\n        {\r\n            title: <FormattedMessage defaultMessage=\"Họ và tên\" />,\r\n            dataIndex: ['account', 'fullName'],\r\n        },\r\n        {\r\n            title: <FormattedMessage defaultMessage=\"Ngày sinh\" />,\r\n            dataIndex: ['account', 'birthday'],\r\n            render: (birthday) => {\r\n                const result = convertUtcToLocalTime(birthday, DEFAULT_FORMAT, DATE_FORMAT_VALUE);\r\n                return <div>{result}</div>;\r\n            },\r\n        },\r\n        {\r\n            title: <FormattedMessage defaultMessage=\"Số điện thoại\" />,\r\n            dataIndex: ['account', 'phone'],\r\n        },\r\n        {\r\n            title: <FormattedMessage defaultMessage=\"Email\" />,\r\n            dataIndex: ['account', 'email'],\r\n        },\r\n        {\r\n            title: <FormattedMessage defaultMessage=\"Trường\" />,\r\n            dataIndex: ['university', 'categoryName'],\r\n        },\r\n        {\r\n            title: <FormattedMessage defaultMessage=\"Hệ\" />,\r\n            dataIndex: ['studyClass', 'categoryName'],\r\n        },\r\n        mixinFuncs.renderStatusColumn({ width: '120px' }),\r\n        mixinFuncs.renderActionColumn(\r\n            {  edit: true, delete: true },\r\n            { width: '120px' },\r\n        ),\r\n    ];\r\n\r\n    const searchFields = [\r\n        {\r\n            key: 'fullName',\r\n            placeholder: translate.formatMessage(commonMessage.name),\r\n        },\r\n        {\r\n            key: 'status',\r\n            placeholder: translate.formatMessage(commonMessage.status),\r\n            type: FieldTypes.SELECT,\r\n            options: statusValues,\r\n            submitOnChanged: true,\r\n        },\r\n    ];\r\n    return (\r\n        <PageWrapper routes={[{ breadcrumbName: translate.formatMessage(commonMessage.student) }]}>\r\n            <ListPage\r\n                searchForm={mixinFuncs.renderSearchForm({ fields: searchFields, initialValues: queryFilter })}\r\n                actionBar={mixinFuncs.renderActionBar()}\r\n                baseTable={\r\n                    <BaseTable\r\n                        onChange={mixinFuncs.changePagination}\r\n                        columns={columns}\r\n                        dataSource={data}\r\n                        loading={loading}\r\n                        pagination={pagination}\r\n                    />\r\n                }\r\n            ></ListPage>\r\n        </PageWrapper>\r\n    );\r\n};\r\nexport default StudentListPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}