{"ast":null,"code":"import { createReducer } from '@store/utils';\nimport { appActions } from '@store/actions';\nimport { defaultLocale, storageKeys } from '@constants';\nimport { setData } from '@utils/localStorage';\nconst {\n  hideAppLoading,\n  showAppLoading,\n  toggleActionLoading,\n  changeLanguage,\n  setRestaurantTenantId,\n  getRestaurantListByCustomer,\n  setSelectedRowKey,\n  settingSystem\n} = appActions;\nconst initialState = {\n  appLoading: 0,\n  locale: defaultLocale,\n  tenantId: null,\n  restaurantList: [],\n  apiUrl: null,\n  selectedRowKey: null,\n  settingSystem: []\n};\nconst appReducer = createReducer({\n  reducerName: 'app',\n  initialState,\n  storage: {\n    whiteList: ['theme', 'locale']\n  }\n}, {\n  [showAppLoading.type]: state => {\n    state.appLoading++;\n  },\n  [hideAppLoading.type]: state => {\n    state.appLoading = Math.max(0, state.appLoading - 1);\n  },\n  [toggleActionLoading.type]: (state, action) => {\n    if (action.payload.isLoading) {\n      state[action.payload.type] = true;\n    } else {\n      delete state[action.payload.type];\n    }\n  },\n  [changeLanguage.type]: (state, {\n    payload\n  }) => {\n    state.locale = payload;\n  },\n  [setRestaurantTenantId.type]: (state, {\n    payload: {\n      tenantId,\n      apiUrl\n    }\n  }) => {\n    state.tenantId = tenantId;\n    state.apiUrl = apiUrl;\n    setData(storageKeys.TENANT_ID, tenantId);\n    setData(storageKeys.TENANT_API_URL, `${apiUrl}/`);\n    setData(storageKeys.RESTAURANT_ID, tenantId.split('_')[2]);\n  },\n  [getRestaurantListByCustomer.type]: (state, {\n    payload\n  }) => {\n    state.restaurantList = payload.data?.content || [];\n  },\n  [setSelectedRowKey.type]: (state, {\n    payload\n  }) => {\n    state.selectedRowKey = payload;\n  },\n  [settingSystem.type]: (state, {\n    payload\n  }) => {\n    state.settingSystem = payload;\n  }\n});\nexport default appReducer;","map":{"version":3,"names":["createReducer","appActions","defaultLocale","storageKeys","setData","hideAppLoading","showAppLoading","toggleActionLoading","changeLanguage","setRestaurantTenantId","getRestaurantListByCustomer","setSelectedRowKey","settingSystem","initialState","appLoading","locale","tenantId","restaurantList","apiUrl","selectedRowKey","appReducer","reducerName","storage","whiteList","type","state","Math","max","action","payload","isLoading","TENANT_ID","TENANT_API_URL","RESTAURANT_ID","split","data","content"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/store/reducers/app.js"],"sourcesContent":["import { createReducer } from '@store/utils';\r\nimport { appActions } from '@store/actions';\r\nimport { defaultLocale, storageKeys } from '@constants';\r\nimport { setData } from '@utils/localStorage';\r\n\r\nconst {\r\n    hideAppLoading,\r\n    showAppLoading,\r\n    toggleActionLoading,\r\n    changeLanguage,\r\n    setRestaurantTenantId,\r\n    getRestaurantListByCustomer,\r\n    setSelectedRowKey,\r\n    settingSystem,\r\n} = appActions;\r\n\r\nconst initialState = {\r\n    appLoading: 0,\r\n    locale: defaultLocale,\r\n    tenantId: null,\r\n    restaurantList: [],\r\n    apiUrl: null,\r\n    selectedRowKey: null,\r\n    settingSystem: [],\r\n};\r\n\r\nconst appReducer = createReducer(\r\n    {\r\n        reducerName: 'app',\r\n        initialState,\r\n        storage: {\r\n            whiteList: ['theme', 'locale'],\r\n        },\r\n    },\r\n    {\r\n        [showAppLoading.type]: (state) => {\r\n            state.appLoading++;\r\n        },\r\n        [hideAppLoading.type]: (state) => {\r\n            state.appLoading = Math.max(0, state.appLoading - 1);\r\n        },\r\n        [toggleActionLoading.type]: (state, action) => {\r\n            if (action.payload.isLoading) {\r\n                state[action.payload.type] = true;\r\n            } else {\r\n                delete state[action.payload.type];\r\n            }\r\n        },\r\n        [changeLanguage.type]: (state, { payload }) => {\r\n            state.locale = payload;\r\n        },\r\n        [setRestaurantTenantId.type]: (state, { payload: { tenantId, apiUrl } }) => {\r\n            state.tenantId = tenantId;\r\n            state.apiUrl = apiUrl;\r\n            setData(storageKeys.TENANT_ID, tenantId);\r\n            setData(storageKeys.TENANT_API_URL, `${apiUrl}/`);\r\n            setData(storageKeys.RESTAURANT_ID, tenantId.split('_')[2]);\r\n        },\r\n        [getRestaurantListByCustomer.type]: (state, { payload }) => {\r\n            state.restaurantList = payload.data?.content || [];\r\n        },\r\n        [setSelectedRowKey.type]: (state, { payload }) => {\r\n            state.selectedRowKey = payload;\r\n        },\r\n        [settingSystem.type]: (state, { payload }) => {\r\n            state.settingSystem = payload;\r\n        },\r\n    },\r\n);\r\n\r\nexport default appReducer;\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,aAAa,EAAEC,WAAW,QAAQ,YAAY;AACvD,SAASC,OAAO,QAAQ,qBAAqB;AAE7C,MAAM;EACFC,cAAc;EACdC,cAAc;EACdC,mBAAmB;EACnBC,cAAc;EACdC,qBAAqB;EACrBC,2BAA2B;EAC3BC,iBAAiB;EACjBC;AACJ,CAAC,GAAGX,UAAU;AAEd,MAAMY,YAAY,GAAG;EACjBC,UAAU,EAAE,CAAC;EACbC,MAAM,EAAEb,aAAa;EACrBc,QAAQ,EAAE,IAAI;EACdC,cAAc,EAAE,EAAE;EAClBC,MAAM,EAAE,IAAI;EACZC,cAAc,EAAE,IAAI;EACpBP,aAAa,EAAE;AACnB,CAAC;AAED,MAAMQ,UAAU,GAAGpB,aAAa,CAC5B;EACIqB,WAAW,EAAE,KAAK;EAClBR,YAAY;EACZS,OAAO,EAAE;IACLC,SAAS,EAAE,CAAC,OAAO,EAAE,QAAQ;EACjC;AACJ,CAAC,EACD;EACI,CAACjB,cAAc,CAACkB,IAAI,GAAIC,KAAK,IAAK;IAC9BA,KAAK,CAACX,UAAU,EAAE;EACtB,CAAC;EACD,CAACT,cAAc,CAACmB,IAAI,GAAIC,KAAK,IAAK;IAC9BA,KAAK,CAACX,UAAU,GAAGY,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,KAAK,CAACX,UAAU,GAAG,CAAC,CAAC;EACxD,CAAC;EACD,CAACP,mBAAmB,CAACiB,IAAI,GAAG,CAACC,KAAK,EAAEG,MAAM,KAAK;IAC3C,IAAIA,MAAM,CAACC,OAAO,CAACC,SAAS,EAAE;MAC1BL,KAAK,CAACG,MAAM,CAACC,OAAO,CAACL,IAAI,CAAC,GAAG,IAAI;IACrC,CAAC,MAAM;MACH,OAAOC,KAAK,CAACG,MAAM,CAACC,OAAO,CAACL,IAAI,CAAC;IACrC;EACJ,CAAC;EACD,CAAChB,cAAc,CAACgB,IAAI,GAAG,CAACC,KAAK,EAAE;IAAEI;EAAQ,CAAC,KAAK;IAC3CJ,KAAK,CAACV,MAAM,GAAGc,OAAO;EAC1B,CAAC;EACD,CAACpB,qBAAqB,CAACe,IAAI,GAAG,CAACC,KAAK,EAAE;IAAEI,OAAO,EAAE;MAAEb,QAAQ;MAAEE;IAAO;EAAE,CAAC,KAAK;IACxEO,KAAK,CAACT,QAAQ,GAAGA,QAAQ;IACzBS,KAAK,CAACP,MAAM,GAAGA,MAAM;IACrBd,OAAO,CAACD,WAAW,CAAC4B,SAAS,EAAEf,QAAQ,CAAC;IACxCZ,OAAO,CAACD,WAAW,CAAC6B,cAAc,EAAG,GAAEd,MAAO,GAAE,CAAC;IACjDd,OAAO,CAACD,WAAW,CAAC8B,aAAa,EAAEjB,QAAQ,CAACkB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9D,CAAC;EACD,CAACxB,2BAA2B,CAACc,IAAI,GAAG,CAACC,KAAK,EAAE;IAAEI;EAAQ,CAAC,KAAK;IACxDJ,KAAK,CAACR,cAAc,GAAGY,OAAO,CAACM,IAAI,EAAEC,OAAO,IAAI,EAAE;EACtD,CAAC;EACD,CAACzB,iBAAiB,CAACa,IAAI,GAAG,CAACC,KAAK,EAAE;IAAEI;EAAQ,CAAC,KAAK;IAC9CJ,KAAK,CAACN,cAAc,GAAGU,OAAO;EAClC,CAAC;EACD,CAACjB,aAAa,CAACY,IAAI,GAAG,CAACC,KAAK,EAAE;IAAEI;EAAQ,CAAC,KAAK;IAC1CJ,KAAK,CAACb,aAAa,GAAGiB,OAAO;EACjC;AACJ,CACJ,CAAC;AAED,eAAeT,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}