{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Form, Input, Select, Button, Breadcrumb, message } from 'antd';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getSubject, createSubject, updateSubject } from './subjectService';\nconst {\n  Option\n} = Select;\nconst subjectForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [form] = Form.useForm();\n  const isEditing = id !== undefined;\n  useEffect(() => {\n    if (isEditing) {\n      getSubject(id).then(data => {\n        form.setFieldsValue(data);\n      }).catch(err => {\n        console.error('Error fetching subject', err);\n        message.error('Lỗi khi tải thông tin môn học');\n      });\n    }\n  }, [id, form]);\n  const handleSubmit = async values => {\n    try {\n      const result = isEditing ? await updateSubject(id, values) : await createSubject(values);\n      if (result.success) {\n        navigate('/subjects');\n        message.success('Lưu thông tin môn học thành công');\n      } else {\n        throw new Error('Failed to save the subject');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      message.error('Lỗi khi lưu thông tin môn học');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\",\n      maxWidth: \"600px\",\n      margin: \"0 auto\"\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      margin: '16px 0'\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"Trang ch\\u1EE7\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"M\\xF4n h\\u1ECDc\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, isEditing ? 'Sửa môn học' : 'Thêm môn học')), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"vertical\",\n    onFinish: handleSubmit\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"name\",\n    label: \"T\\xEAn m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng nhập tên môn học!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"code\",\n    label: \"M\\xE3 m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng nhập mã môn học!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"status\",\n    label: \"Tr\\u1EA1ng th\\xE1i\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng chọn trạng thái!'\n    }]\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"active\"\n  }, \"Ho\\u1EA1t \\u0111\\u1ED9ng\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"inactive\"\n  }, \"Kh\\xF4ng ho\\u1EA1t \\u0111\\u1ED9ng\"))), /*#__PURE__*/React.createElement(Form.Item, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, isEditing ? 'Cập nhật' : 'Thêm mới'), isEditing && /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginLeft: '8px'\n    },\n    onClick: () => form.resetFields(),\n    danger: true\n  }, \"H\\u1EE7y b\\u1ECF\"))));\n};\n_s(subjectForm, \"2ivoqBq1mC56BMg/IsESvMR8bL4=\", false, function () {\n  return [useParams, useNavigate, Form.useForm];\n});\nexport default subjectForm;","map":{"version":3,"names":["React","useState","useEffect","Form","Input","Select","Button","Breadcrumb","message","useParams","useNavigate","getSubject","createSubject","updateSubject","Option","subjectForm","_s","id","navigate","form","useForm","isEditing","undefined","then","data","setFieldsValue","catch","err","console","error","handleSubmit","values","result","success","Error","createElement","style","padding","maxWidth","margin","Item","layout","onFinish","name","label","rules","required","placeholder","value","type","htmlType","marginLeft","onClick","resetFields","danger"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/Subject/subjectForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select, Button, Breadcrumb, message } from 'antd';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getSubject, createSubject, updateSubject } from './subjectService'; \r\n\r\nconst { Option } = Select;\r\n\r\nconst subjectForm = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [form] = Form.useForm();\r\n    const isEditing = id !== undefined;\r\n\r\n    useEffect(() => {\r\n        if (isEditing) {\r\n            getSubject(id).then(data => {\r\n                form.setFieldsValue(data);\r\n            }).catch(err => {\r\n                console.error('Error fetching subject', err);\r\n                message.error('Lỗi khi tải thông tin môn học');\r\n            });\r\n        }\r\n    }, [id, form]);\r\n\r\n    const handleSubmit = async (values) => {\r\n        try {\r\n            const result = isEditing ? await updateSubject(id, values) : await createSubject(values);\r\n            if (result.success) {\r\n                navigate('/subjects');\r\n                message.success('Lưu thông tin môn học thành công');\r\n            } else {\r\n                throw new Error('Failed to save the subject');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            message.error('Lỗi khi lưu thông tin môn học');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\", maxWidth: \"600px\", margin: \"0 auto\" }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n                <Breadcrumb.Item>Trang chủ</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Môn học</Breadcrumb.Item>\r\n                <Breadcrumb.Item>{isEditing ? 'Sửa môn học' : 'Thêm môn học'}</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <Form form={form} layout=\"vertical\" onFinish={handleSubmit}>\r\n                <Form.Item name=\"name\" label=\"Tên môn học\" rules={[{ required: true, message: 'Vui lòng nhập tên môn học!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"code\" label=\"Mã môn học\" rules={[{ required: true, message: 'Vui lòng nhập mã môn học!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"status\" label=\"Trạng thái\" rules={[{ required: true, message: 'Vui lòng chọn trạng thái!' }]}>\r\n                    <Select placeholder=\"Chọn trạng thái\">\r\n                        <Option value=\"active\">Hoạt động</Option>\r\n                        <Option value=\"inactive\">Không hoạt động</Option>\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">{isEditing ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n                    {isEditing && (\r\n                        <Button style={{ marginLeft: '8px' }} onClick={() => form.resetFields()} danger>\r\n                            Hủy bỏ\r\n                        </Button>\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default subjectForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}