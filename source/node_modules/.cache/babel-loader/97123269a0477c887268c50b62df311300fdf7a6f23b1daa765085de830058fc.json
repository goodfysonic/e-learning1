{"ast":null,"code":"var _s = $RefreshSig$();\nimport PageWrapper from '@components/common/layout/PageWrapper';\nimport useSaveBase from '@hooks/useSaveBase';\nimport React from 'react';\nimport { defineMessages } from 'react-intl';\nimport useTranslate from '@hooks/useTranslate';\nimport { generatePath } from 'react-router-dom';\nimport routes from './routes';\nimport apiConfig from '@constants/apiConfig';\nimport DeveloperForm from './DeveloperForm';\nimport { showErrorMessage } from '@services/notifyService';\nimport { commonMessage } from '@locales/intl';\nimport useFetch from '@hooks/useFetch';\nimport { commonStatus } from '@constants';\nconst messages = defineMessages({\n  objectName: {\n    \"id\": \"modules.account.developer.DeveloperSavePage.objectName\",\n    \"defaultMessage\": 'Lập trình viên'\n  }\n});\nconst DeveloperSavePage = () => {\n  _s();\n  const translate = useTranslate();\n  const {\n    detail,\n    mixinFuncs,\n    loading,\n    setIsChangedFormValues,\n    isEditing,\n    title\n  } = useSaveBase({\n    apiConfig: {\n      getById: apiConfig.developer.getById,\n      create: apiConfig.developer.create,\n      update: apiConfig.developer.update\n    },\n    options: {\n      getListUrl: generatePath(routes.developerListPage.path, {}),\n      objectName: translate.formatMessage(messages.objectName)\n    },\n    override: funcs => {\n      funcs.prepareUpdateData = data => {\n        return {\n          ...data,\n          developerId: detail.id,\n          status: commonStatus.ACTIVE\n        };\n      };\n      funcs.prepareCreateData = data => {\n        return {\n          ...data,\n          status: commonStatus.ACTIVE\n        };\n      };\n      funcs.onSaveError = err => {\n        if (err.response.data.code === 'ERROR-ACCOUNT-ERROR-0001') {\n          showErrorMessage('Lập trình viên đã tồn tại');\n          mixinFuncs.setSubmit(false);\n        } else {\n          mixinFuncs.handleShowErrorMessage(err, showErrorMessage);\n          mixinFuncs.setSubmit(false);\n        }\n      };\n    }\n  });\n  const {\n    execute: executeLeaderRefer\n  } = useFetch(apiConfig.developer.leaderRefer, {\n    immediate: false\n  });\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    loading: loading,\n    routes: [{\n      breadcrumbName: translate.formatMessage(commonMessage.developer),\n      path: generatePath(routes.developerListPage.path, {})\n    }, {\n      breadcrumbName: title\n    }],\n    title: title\n  }, /*#__PURE__*/React.createElement(DeveloperForm, {\n    setIsChangedFormValues: setIsChangedFormValues,\n    dataDetail: detail ? detail : {},\n    formId: mixinFuncs.getFormId(),\n    isEditing: isEditing,\n    actions: mixinFuncs.renderActions(),\n    onSubmit: mixinFuncs.onSave\n  }));\n};\n_s(DeveloperSavePage, \"wu7FkH6QrVyZ+L1RhRe2TjoyxTU=\", false, function () {\n  return [useTranslate, useSaveBase, useFetch];\n});\n_c = DeveloperSavePage;\nexport default DeveloperSavePage;\nvar _c;\n$RefreshReg$(_c, \"DeveloperSavePage\");","map":{"version":3,"names":["PageWrapper","useSaveBase","React","defineMessages","useTranslate","generatePath","routes","apiConfig","DeveloperForm","showErrorMessage","commonMessage","useFetch","commonStatus","messages","objectName","DeveloperSavePage","_s","translate","detail","mixinFuncs","loading","setIsChangedFormValues","isEditing","title","getById","developer","create","update","options","getListUrl","developerListPage","path","formatMessage","override","funcs","prepareUpdateData","data","developerId","id","status","ACTIVE","prepareCreateData","onSaveError","err","response","code","setSubmit","handleShowErrorMessage","execute","executeLeaderRefer","leaderRefer","immediate","createElement","breadcrumbName","dataDetail","formId","getFormId","actions","renderActions","onSubmit","onSave","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/account/developer/DeveloperSavePage.js"],"sourcesContent":["import PageWrapper from '@components/common/layout/PageWrapper';\r\nimport useSaveBase from '@hooks/useSaveBase';\r\nimport React from 'react';\r\nimport { defineMessages } from 'react-intl';\r\nimport useTranslate from '@hooks/useTranslate';\r\nimport { generatePath } from 'react-router-dom';\r\nimport routes from './routes';\r\nimport apiConfig from '@constants/apiConfig';\r\nimport DeveloperForm from './DeveloperForm';\r\nimport { showErrorMessage } from '@services/notifyService';\r\nimport { commonMessage } from '@locales/intl';\r\nimport useFetch from '@hooks/useFetch';\r\nimport { commonStatus } from '@constants';\r\n\r\nconst messages = defineMessages({\r\n    objectName: 'Lập trình viên',\r\n});\r\n\r\nconst DeveloperSavePage = () => {\r\n    const translate = useTranslate();\r\n    const { detail, mixinFuncs, loading, setIsChangedFormValues, isEditing, title } = useSaveBase({\r\n        apiConfig: {\r\n            getById: apiConfig.developer.getById,\r\n            create: apiConfig.developer.create,\r\n            update: apiConfig.developer.update,\r\n        },\r\n        options: {\r\n            getListUrl: generatePath(routes.developerListPage.path, {}),\r\n            objectName: translate.formatMessage(messages.objectName),\r\n        },\r\n        override: (funcs) => {\r\n            funcs.prepareUpdateData = (data) => {\r\n                return {\r\n                    ...data,\r\n                    developerId: detail.id,\r\n                    status: commonStatus.ACTIVE,\r\n                };\r\n            };\r\n            funcs.prepareCreateData = (data) => {\r\n                return {\r\n                    ...data,\r\n                    status: commonStatus.ACTIVE,\r\n                };\r\n            };\r\n            funcs.onSaveError = (err) => {\r\n                if (err.response.data.code === 'ERROR-ACCOUNT-ERROR-0001') {\r\n                    showErrorMessage('Lập trình viên đã tồn tại');\r\n                    mixinFuncs.setSubmit(false);\r\n                } else {\r\n                    mixinFuncs.handleShowErrorMessage(err, showErrorMessage);\r\n                    mixinFuncs.setSubmit(false);\r\n                }\r\n            };\r\n        },\r\n    });\r\n\r\n    const { execute: executeLeaderRefer } = useFetch(apiConfig.developer.leaderRefer, { immediate: false });\r\n\r\n\r\n    return (\r\n        <PageWrapper\r\n            loading={loading}\r\n            routes={[\r\n                {\r\n                    breadcrumbName: translate.formatMessage(commonMessage.developer),\r\n                    path: generatePath(routes.developerListPage.path, {}),\r\n                },\r\n                { breadcrumbName: title },\r\n            ]}\r\n            title={title}\r\n        >\r\n            <DeveloperForm\r\n                setIsChangedFormValues={setIsChangedFormValues}\r\n                dataDetail={detail ? detail : {}}\r\n                formId={mixinFuncs.getFormId()}\r\n                isEditing={isEditing}\r\n                actions={mixinFuncs.renderActions()}\r\n                onSubmit={mixinFuncs.onSave}\r\n            />\r\n        </PageWrapper>\r\n    );\r\n};\r\n\r\nexport default DeveloperSavePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}