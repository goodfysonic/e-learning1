{"ast":null,"code":"import React from 'react';\nimport { BaseTooltip } from '../form/BaseTooltip';\nconst ScheduleFile = ({\n  schedule\n}) => {\n  if (!schedule) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n  let check = JSON.parse(schedule);\n  const newCheck = [{\n    key: 'M',\n    value: check.t2\n  }, {\n    key: 'T',\n    value: check.t3\n  }, {\n    key: 'W',\n    value: check.t4\n  }, {\n    key: 'T',\n    value: check.t5\n  }, {\n    key: 'F',\n    value: check.t6\n  }, {\n    key: 'S',\n    value: check.t7\n  }, {\n    key: 'S',\n    value: check.cn\n  }];\n  let dateString = '';\n  newCheck.map(item => {\n    if (item.value) {\n      dateString += item.key;\n    } else {\n      dateString += ' ';\n    }\n  });\n  let checkTime = false;\n  const today = new Date();\n  let dayOfWeek = today.getDay();\n  const currentHour = today.getHours();\n  const currentMinute = today.getMinutes();\n  const totalMinutesToday = currentHour * 60 + currentMinute;\n  if (dayOfWeek - 1 < 0) {\n    dayOfWeek = 7;\n  }\n  function convertTimeStringToObject(timeString) {\n    const timeArray = timeString.split('|');\n    const timeObjects = [];\n    timeArray.forEach(time => {\n      const [startHour, startMinute, endHour, endMinute] = time.match(/\\d+/g);\n      const startTime = parseInt(startHour) * 60 + parseInt(startMinute);\n      const endTime = parseInt(endHour) * 60 + parseInt(endMinute);\n      const timeObject = {\n        startTime,\n        endTime\n      };\n      timeObjects.push(timeObject);\n    });\n    return timeObjects;\n  }\n  newCheck.map((item, index) => {\n    if (index === dayOfWeek - 1) {\n      if (item.value) {\n        const frameArray = convertTimeStringToObject(item.value);\n        frameArray.map(frame => {\n          if (frame?.startTime <= totalMinutesToday && totalMinutesToday <= frame?.endTime) {\n            checkTime = true;\n          }\n        });\n      }\n    }\n  });\n  const arrayFromInput = dateString.split('');\n  const resultArray = arrayFromInput.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    style: {\n      height: '25px',\n      width: '20px',\n      textAlign: 'center',\n      marginRight: '5px'\n    }\n  }, /*#__PURE__*/React.createElement(BaseTooltip, {\n    title: (newCheck[index].value || 'Không có lịch').split('|').join(' | ')\n  }, index === dayOfWeek - 1 ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '100%',\n      height: '100%',\n      boxShadow: item !== ' ' && checkTime ? '0 0 2px 1px green' : '0 0 2px 1px red',\n      color: dayOfWeek - 1 === index && checkTime ? 'green' : 'red',\n      textAlign: 'center',\n      marginRight: '5px'\n    }\n  }, item) : /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: 'block',\n      width: '100%',\n      height: '100%',\n      border: '1px solid #000'\n    }\n  }, item))));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, resultArray);\n};\n_c = ScheduleFile;\nexport default ScheduleFile;\nvar _c;\n$RefreshReg$(_c, \"ScheduleFile\");","map":{"version":3,"names":["React","BaseTooltip","ScheduleFile","schedule","createElement","check","JSON","parse","newCheck","key","value","t2","t3","t4","t5","t6","t7","cn","dateString","map","item","checkTime","today","Date","dayOfWeek","getDay","currentHour","getHours","currentMinute","getMinutes","totalMinutesToday","convertTimeStringToObject","timeString","timeArray","split","timeObjects","forEach","time","startHour","startMinute","endHour","endMinute","match","startTime","parseInt","endTime","timeObject","push","index","frameArray","frame","arrayFromInput","resultArray","style","height","width","textAlign","marginRight","title","join","display","boxShadow","color","border","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/components/common/elements/ScheduleFile.js"],"sourcesContent":["import React from 'react';\r\nimport { BaseTooltip } from '../form/BaseTooltip';\r\n\r\nconst ScheduleFile = ({ schedule }) => {\r\n    if(!schedule){\r\n        return <div></div>;\r\n    }\r\n    let check = JSON.parse(schedule);\r\n    const newCheck = [\r\n        { key: 'M', value: check.t2 },\r\n        { key: 'T', value: check.t3 },\r\n        { key: 'W', value: check.t4 },\r\n        { key: 'T', value: check.t5 },\r\n        { key: 'F', value: check.t6 },\r\n        { key: 'S', value: check.t7 },\r\n        { key: 'S', value: check.cn },\r\n    ];\r\n\r\n    let dateString = '';\r\n    newCheck.map((item) => {\r\n        if (item.value) {\r\n            dateString += item.key;\r\n        } else {\r\n            dateString += ' ';\r\n        }\r\n    });\r\n    let checkTime = false;\r\n    const today = new Date();\r\n    let dayOfWeek = today.getDay();\r\n    const currentHour = today.getHours();\r\n    const currentMinute = today.getMinutes();\r\n    const totalMinutesToday = currentHour * 60 + currentMinute;\r\n    if (dayOfWeek - 1 < 0) {\r\n        dayOfWeek = 7;\r\n    }\r\n    function convertTimeStringToObject(timeString) {\r\n        const timeArray = timeString.split('|');\r\n        const timeObjects = [];\r\n        timeArray.forEach((time) => {\r\n            const [startHour, startMinute, endHour, endMinute] = time.match(/\\d+/g);\r\n            const startTime = parseInt(startHour) * 60 + parseInt(startMinute);\r\n            const endTime = parseInt(endHour) * 60 + parseInt(endMinute);\r\n\r\n            const timeObject = { startTime, endTime };\r\n            timeObjects.push(timeObject);\r\n        });\r\n\r\n        return timeObjects;\r\n    }\r\n    newCheck.map((item, index) => {\r\n        if (index === dayOfWeek - 1) {\r\n            if (item.value) {\r\n                const frameArray = convertTimeStringToObject(item.value);\r\n                frameArray.map((frame) => {\r\n                    if (frame?.startTime <= totalMinutesToday && totalMinutesToday <= frame?.endTime) {\r\n                        checkTime = true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    const arrayFromInput = dateString.split('');\r\n    const resultArray = arrayFromInput.map((item, index) => (\r\n        <div\r\n            key={index}\r\n            style={{\r\n                height: '25px',\r\n                width: '20px',\r\n                textAlign: 'center',\r\n                marginRight: '5px',\r\n            }}\r\n        >\r\n            <BaseTooltip title={(newCheck[index].value || 'Không có lịch').split('|').join(' | ')}>\r\n                {index === dayOfWeek - 1 ? (\r\n                    <span\r\n                        style={{\r\n                            display: 'block',\r\n                            width: '100%',\r\n                            height: '100%',\r\n                            boxShadow: item !== ' ' && checkTime ? '0 0 2px 1px green' : '0 0 2px 1px red',\r\n                            color: dayOfWeek - 1 === index && checkTime ? 'green' : 'red',\r\n                            textAlign: 'center',\r\n                            marginRight: '5px',\r\n                        }}\r\n                    >\r\n                        {item}\r\n                    </span>\r\n                ) : (\r\n                    <span\r\n                        style={{\r\n                            display: 'block',\r\n                            width: '100%',\r\n                            height: '100%',\r\n                            border: '1px solid #000',\r\n                        }}\r\n                    >\r\n                        {item}\r\n                    </span>\r\n                )}\r\n            </BaseTooltip>\r\n        </div>\r\n    ));\r\n    return <div style={{ display: 'flex' }}>{resultArray}</div>;\r\n};\r\n\r\nexport default ScheduleFile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}