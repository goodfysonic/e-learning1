{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Form, Input, Select, Button, Breadcrumb, message } from 'antd';\nimport useSubjects from './useSubjects'; // Import your custom hook\n\nconst {\n  Option\n} = Select;\nconst SubjectForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [form] = Form.useForm();\n  const {\n    addSubject,\n    editSubject,\n    fetchSubject\n  } = useSubjects();\n  const isEditing = id !== undefined;\n  useEffect(() => {\n    if (isEditing) {\n      (async () => {\n        try {\n          const data = await fetchSubject(id);\n          form.setFieldsValue(data);\n        } catch (error) {\n          message.error('Failed to load subject details');\n        }\n      })();\n    }\n  }, [id, form, fetchSubject]);\n  const handleSubmit = async values => {\n    try {\n      if (isEditing) {\n        await editSubject(id, values);\n        message.success('Subject updated successfully');\n      } else {\n        await addSubject(values);\n        message.success('Subject added successfully');\n      }\n      navigate('/subjects');\n    } catch (error) {\n      message.error('Failed to save subject');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\",\n      maxWidth: \"600px\",\n      margin: \"0 auto\"\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      margin: '16px 0'\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"Trang ch\\u1EE7\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, \"M\\xF4n h\\u1ECDc\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, null, isEditing ? 'Sửa môn học' : 'Thêm môn học')), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"vertical\",\n    onFinish: handleSubmit\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"name\",\n    label: \"T\\xEAn m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng nhập tên môn học!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"code\",\n    label: \"M\\xE3 m\\xF4n h\\u1ECDc\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng nhập mã môn học!'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, null)), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"status\",\n    label: \"Tr\\u1EA1ng th\\xE1i\",\n    rules: [{\n      required: true,\n      message: 'Vui lòng chọn trạng thái!'\n    }]\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"active\"\n  }, \"Ho\\u1EA1t \\u0111\\u1ED9ng\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"inactive\"\n  }, \"Kh\\xF4ng ho\\u1EA1t \\u0111\\u1ED9ng\"))), /*#__PURE__*/React.createElement(Form.Item, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, isEditing ? 'Cập nhật' : 'Thêm mới'), isEditing && /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginLeft: '8px'\n    },\n    onClick: () => form.resetFields(),\n    danger: true\n  }, \"H\\u1EE7y b\\u1ECF\"))));\n};\n_s(SubjectForm, \"xfBzftuZ6e4n3Zl6FTSW1bLPgA8=\", false, function () {\n  return [useParams, useNavigate, Form.useForm, useSubjects];\n});\n_c = SubjectForm;\nexport default SubjectForm;\nvar _c;\n$RefreshReg$(_c, \"SubjectForm\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Form","Input","Select","Button","Breadcrumb","message","useSubjects","Option","SubjectForm","_s","id","navigate","form","useForm","addSubject","editSubject","fetchSubject","isEditing","undefined","data","setFieldsValue","error","handleSubmit","values","success","createElement","style","padding","maxWidth","margin","Item","layout","onFinish","name","label","rules","required","placeholder","value","type","htmlType","marginLeft","onClick","resetFields","danger","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/Subject/subjectForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Form, Input, Select, Button, Breadcrumb, message } from 'antd';\r\nimport useSubjects from './useSubjects'; // Import your custom hook\r\n\r\nconst { Option } = Select;\r\n\r\nconst SubjectForm = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [form] = Form.useForm();\r\n    const { addSubject, editSubject, fetchSubject } = useSubjects();\r\n    const isEditing = id !== undefined;\r\n\r\n    useEffect(() => {\r\n        if (isEditing) {\r\n            (async () => {\r\n                try {\r\n                    const data = await fetchSubject(id);\r\n                    form.setFieldsValue(data);\r\n                } catch (error) {\r\n                    message.error('Failed to load subject details');\r\n                }\r\n            })();\r\n        }\r\n    }, [id, form, fetchSubject]);\r\n\r\n    const handleSubmit = async (values) => {\r\n        try {\r\n            if (isEditing) {\r\n                await editSubject(id, values);\r\n                message.success('Subject updated successfully');\r\n            } else {\r\n                await addSubject(values);\r\n                message.success('Subject added successfully');\r\n            }\r\n            navigate('/subjects');\r\n        } catch (error) {\r\n            message.error('Failed to save subject');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\", maxWidth: \"600px\", margin: \"0 auto\" }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n                <Breadcrumb.Item>Trang chủ</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Môn học</Breadcrumb.Item>\r\n                <Breadcrumb.Item>{isEditing ? 'Sửa môn học' : 'Thêm môn học'}</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <Form form={form} layout=\"vertical\" onFinish={handleSubmit}>\r\n                <Form.Item name=\"name\" label=\"Tên môn học\" rules={[{ required: true, message: 'Vui lòng nhập tên môn học!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"code\" label=\"Mã môn học\" rules={[{ required: true, message: 'Vui lòng nhập mã môn học!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"status\" label=\"Trạng thái\" rules={[{ required: true, message: 'Vui lòng chọn trạng thái!' }]}>\r\n                    <Select placeholder=\"Chọn trạng thái\">\r\n                        <Option value=\"active\">Hoạt động</Option>\r\n                        <Option value=\"inactive\">Không hoạt động</Option>\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">{isEditing ? 'Cập nhật' : 'Thêm mới'}</Button>\r\n                    {isEditing && (\r\n                        <Button style={{ marginLeft: '8px' }} onClick={() => form.resetFields()} danger>\r\n                            Hủy bỏ\r\n                        </Button>\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubjectForm;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAEC,MAAM,EAAEC,UAAU,EAAEC,OAAO,QAAQ,MAAM;AACvE,OAAOC,WAAW,MAAM,eAAe,CAAC,CAAC;;AAEzC,MAAM;EAAEC;AAAO,CAAC,GAAGL,MAAM;AAEzB,MAAMM,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC;EAAG,CAAC,GAAGZ,SAAS,CAAC,CAAC;EAC1B,MAAMa,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACa,IAAI,CAAC,GAAGZ,IAAI,CAACa,OAAO,CAAC,CAAC;EAC7B,MAAM;IAAEC,UAAU;IAAEC,WAAW;IAAEC;EAAa,CAAC,GAAGV,WAAW,CAAC,CAAC;EAC/D,MAAMW,SAAS,GAAGP,EAAE,KAAKQ,SAAS;EAElCrB,SAAS,CAAC,MAAM;IACZ,IAAIoB,SAAS,EAAE;MACX,CAAC,YAAY;QACT,IAAI;UACA,MAAME,IAAI,GAAG,MAAMH,YAAY,CAACN,EAAE,CAAC;UACnCE,IAAI,CAACQ,cAAc,CAACD,IAAI,CAAC;QAC7B,CAAC,CAAC,OAAOE,KAAK,EAAE;UACZhB,OAAO,CAACgB,KAAK,CAAC,gCAAgC,CAAC;QACnD;MACJ,CAAC,EAAE,CAAC;IACR;EACJ,CAAC,EAAE,CAACX,EAAE,EAAEE,IAAI,EAAEI,YAAY,CAAC,CAAC;EAE5B,MAAMM,YAAY,GAAG,MAAOC,MAAM,IAAK;IACnC,IAAI;MACA,IAAIN,SAAS,EAAE;QACX,MAAMF,WAAW,CAACL,EAAE,EAAEa,MAAM,CAAC;QAC7BlB,OAAO,CAACmB,OAAO,CAAC,8BAA8B,CAAC;MACnD,CAAC,MAAM;QACH,MAAMV,UAAU,CAACS,MAAM,CAAC;QACxBlB,OAAO,CAACmB,OAAO,CAAC,4BAA4B,CAAC;MACjD;MACAb,QAAQ,CAAC,WAAW,CAAC;IACzB,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZhB,OAAO,CAACgB,KAAK,CAAC,wBAAwB,CAAC;IAC3C;EACJ,CAAC;EAED,oBACI1B,KAAA,CAAA8B,aAAA;IAAKC,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAS;EAAE,gBACjElC,KAAA,CAAA8B,aAAA,CAACrB,UAAU;IAACsB,KAAK,EAAE;MAAEG,MAAM,EAAE;IAAS;EAAE,gBACpClC,KAAA,CAAA8B,aAAA,CAACrB,UAAU,CAAC0B,IAAI,QAAC,gBAA0B,CAAC,eAC5CnC,KAAA,CAAA8B,aAAA,CAACrB,UAAU,CAAC0B,IAAI,QAAC,iBAAwB,CAAC,eAC1CnC,KAAA,CAAA8B,aAAA,CAACrB,UAAU,CAAC0B,IAAI,QAAEb,SAAS,GAAG,aAAa,GAAG,cAAgC,CACtE,CAAC,eACbtB,KAAA,CAAA8B,aAAA,CAACzB,IAAI;IAACY,IAAI,EAAEA,IAAK;IAACmB,MAAM,EAAC,UAAU;IAACC,QAAQ,EAAEV;EAAa,gBACvD3B,KAAA,CAAA8B,aAAA,CAACzB,IAAI,CAAC8B,IAAI;IAACG,IAAI,EAAC,MAAM;IAACC,KAAK,EAAC,wBAAa;IAACC,KAAK,EAAE,CAAC;MAAEC,QAAQ,EAAE,IAAI;MAAE/B,OAAO,EAAE;IAA6B,CAAC;EAAE,gBAC1GV,KAAA,CAAA8B,aAAA,CAACxB,KAAK,MAAE,CACD,CAAC,eACZN,KAAA,CAAA8B,aAAA,CAACzB,IAAI,CAAC8B,IAAI;IAACG,IAAI,EAAC,MAAM;IAACC,KAAK,EAAC,uBAAY;IAACC,KAAK,EAAE,CAAC;MAAEC,QAAQ,EAAE,IAAI;MAAE/B,OAAO,EAAE;IAA4B,CAAC;EAAE,gBACxGV,KAAA,CAAA8B,aAAA,CAACxB,KAAK,MAAE,CACD,CAAC,eACZN,KAAA,CAAA8B,aAAA,CAACzB,IAAI,CAAC8B,IAAI;IAACG,IAAI,EAAC,QAAQ;IAACC,KAAK,EAAC,oBAAY;IAACC,KAAK,EAAE,CAAC;MAAEC,QAAQ,EAAE,IAAI;MAAE/B,OAAO,EAAE;IAA4B,CAAC;EAAE,gBAC1GV,KAAA,CAAA8B,aAAA,CAACvB,MAAM;IAACmC,WAAW,EAAC;EAAiB,gBACjC1C,KAAA,CAAA8B,aAAA,CAAClB,MAAM;IAAC+B,KAAK,EAAC;EAAQ,GAAC,0BAAiB,CAAC,eACzC3C,KAAA,CAAA8B,aAAA,CAAClB,MAAM;IAAC+B,KAAK,EAAC;EAAU,GAAC,mCAAuB,CAC5C,CACD,CAAC,eACZ3C,KAAA,CAAA8B,aAAA,CAACzB,IAAI,CAAC8B,IAAI,qBACNnC,KAAA,CAAA8B,aAAA,CAACtB,MAAM;IAACoC,IAAI,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAQ,GAAEvB,SAAS,GAAG,UAAU,GAAG,UAAmB,CAAC,EACtFA,SAAS,iBACNtB,KAAA,CAAA8B,aAAA,CAACtB,MAAM;IAACuB,KAAK,EAAE;MAAEe,UAAU,EAAE;IAAM,CAAE;IAACC,OAAO,EAAEA,CAAA,KAAM9B,IAAI,CAAC+B,WAAW,CAAC,CAAE;IAACC,MAAM;EAAA,GAAC,kBAExE,CAEL,CACT,CACL,CAAC;AAEd,CAAC;AAACnC,EAAA,CAlEID,WAAW;EAAA,QACEV,SAAS,EACPC,WAAW,EACbC,IAAI,CAACa,OAAO,EACuBP,WAAW;AAAA;AAAAuC,EAAA,GAJ3DrC,WAAW;AAoEjB,eAAeA,WAAW;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}