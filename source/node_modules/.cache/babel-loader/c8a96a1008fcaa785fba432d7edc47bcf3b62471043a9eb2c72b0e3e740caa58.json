{"ast":null,"code":"var _s = $RefreshSig$();\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { DEFAULT_FORMAT, UserTypes } from '@constants';\nimport apiConfig from '@constants/apiConfig';\nimport useAuth from '@hooks/useAuth';\nimport useFetch from '@hooks/useFetch';\nimport useTranslate from '@hooks/useTranslate';\nimport { commonMessage } from '@locales/intl';\nimport routes from '@routes';\nimport { IconBell, IconBellFilled, IconCheck, IconCircleCheck, IconCircleX, IconInfoCircle } from '@tabler/icons-react';\nimport HeadlessTippy from '@tippyjs/react/headless';\nimport { convertDateTimeToString, convertStringToDateTime } from '@utils/dayHelper';\nimport { Badge, Button, Card, Modal, Skeleton } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { defineMessages } from 'react-intl';\nimport { useNavigate } from 'react-router-dom';\nimport { BaseTooltip } from './BaseTooltip';\nimport styles from './NotificationForm.module.scss';\nimport { IconBellRinging } from '@tabler/icons-react';\nconst messages = defineMessages({\n  doneTaskDescription: {\n    \"id\": \"components.common.form.NotificationForm.doneTaskDescription\",\n    \"defaultMessage\": 'Bạn đã hoàn thành task: '\n  },\n  studentNewTaskDescription: {\n    \"id\": \"components.common.form.NotificationForm.studentNewTaskDescription\",\n    \"defaultMessage\": 'Bạn đã được giao task: '\n  },\n  cancelTaskDescription: {\n    \"id\": \"components.common.form.NotificationForm.cancelTaskDescription\",\n    \"defaultMessage\": 'Bạn đã bị huỷ task : '\n  },\n  leaderNewTaskDescription: {\n    \"id\": \"components.common.form.NotificationForm.leaderNewTaskDescription\",\n    \"defaultMessage\": 'Một task mới được tạo: '\n  },\n  leaderDoneTaskDescription: {\n    \"id\": \"components.common.form.NotificationForm.leaderDoneTaskDescription\",\n    \"defaultMessage\": 'Thông báo xong task: '\n  },\n  deleteAllConfirm: {\n    \"id\": \"components.common.form.NotificationForm.deleteAllConfirm\",\n    \"defaultMessage\": 'Bạn có muốn xoá toàn bộ thông báo không ?'\n  }\n});\nexport const NotificationForm = ({\n  data,\n  executeGetData,\n  executeUpdateState,\n  loading,\n  unReadTotal,\n  pageTotal,\n  ...props\n}) => {\n  _s();\n  const [activeButtonAll, setActiveButtonAll] = useState(true);\n  const [activeIcon, setActiveIcon] = useState(false);\n  const translate = useTranslate();\n  const [dataNotification, setDataNotification] = useState([]);\n  const [isLoadMore, setIsLoadMore] = useState(false);\n  let [countLoadMore, setCountLoadMore] = useState(1);\n  const [hiddenItems, setHiddenItems] = useState([]);\n  const [deleteAll, setDeleteAll] = useState(false);\n  const [readAll, setReadAll] = useState(false);\n  const [dataNotificationUnRead, setDataNotificationUnRead] = useState([]);\n  const [hasNotification, setHasNotification] = useState(false);\n  const navigate = useNavigate();\n  const hostPath = window.location.host;\n  const {\n    profile\n  } = useAuth();\n  const {\n    execute: executeReadAll\n  } = useFetch(apiConfig.notification.readAll, {\n    immediate: false\n  });\n  const {\n    execute: executeDeleteAll\n  } = useFetch(apiConfig.notification.deleteAll, {\n    immediate: false\n  });\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const hasNotificationLocalStr = JSON.parse(localStorage.getItem('hasNotification'));\n      if (hasNotificationLocalStr && !hasNotification) {\n        setHasNotification(true);\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    if (isLoadMore && data) {\n      setDataNotification([...dataNotification, ...data]);\n    } else {\n      setDataNotification(data);\n    }\n  }, [data]);\n  useEffect(() => {\n    setDataNotificationUnRead(dataNotification?.filter(item => item.state == 0));\n  }, [dataNotification]);\n  useEffect(() => {\n    if (activeIcon) {\n      if (activeButtonAll) {\n        executeGetData();\n      } else {\n        executeGetData({\n          params: {\n            state: 0\n          }\n        });\n      }\n      setReadAll(false);\n      setDeleteAll(false);\n      localStorage.setItem('hasNotification', false);\n      setHasNotification(false);\n    }\n    setHiddenItems([]);\n  }, [activeIcon]);\n  useEffect(() => {\n    if (activeIcon) {\n      if (!activeButtonAll) {\n        executeGetData({\n          params: {\n            state: 0\n          }\n        });\n      } else {\n        executeGetData();\n      }\n    }\n    setIsLoadMore(false);\n    setCountLoadMore(1);\n    setHiddenItems([]);\n  }, [activeButtonAll]);\n  const iconNotification = (kind, style, size) => {\n    if (kind == 1 || kind == 5) {\n      return /*#__PURE__*/React.createElement(IconCircleCheck, {\n        color: \"green\",\n        style: style,\n        size: size\n      });\n    } else if (kind == 2 || kind == 6) {\n      return /*#__PURE__*/React.createElement(IconInfoCircle, {\n        color: \"blue\",\n        style: style,\n        size: size\n      });\n    } else if (kind == 3 || kind == 7) {\n      return /*#__PURE__*/React.createElement(IconCircleX, {\n        color: \"red\",\n        style: style,\n        size: size\n      });\n    } else if (kind == 4 || kind == 8) {\n      return /*#__PURE__*/React.createElement(IconBellRinging, {\n        color: \"orange\",\n        style: style,\n        size: size\n      });\n    }\n  };\n  const titleNotification = item => {\n    const kind = item?.kind;\n    const projectNameTitle = translate.formatMessage(commonMessage.project) + ` ${item?.projectName}: `;\n    const courseNameTitle = translate.formatMessage(commonMessage.course) + ` ${item?.courseName}: `;\n    const title = item?.projectName ? projectNameTitle : courseNameTitle;\n    if (kind == 1 || kind == 5) {\n      return title + translate.formatMessage(commonMessage.doneTaskTitle);\n    } else if (kind == 2 || kind == 6) {\n      return title + translate.formatMessage(commonMessage.newTaskTitle);\n    } else if (kind == 3 || kind == 7) {\n      return title + translate.formatMessage(commonMessage.cancelTaskTitle);\n    } else if (kind == 4 || kind == 8) {\n      return title + translate.formatMessage(commonMessage.notifyDoneTaskTitle);\n    }\n  };\n  const descriptionNotification = item => {\n    const kind = item?.kind;\n    const taskName = item?.taskName ? item?.taskName : item?.lectureName;\n    if (profile?.kind == UserTypes.STUDENT) {\n      if (kind == 1 || kind == 5) {\n        return translate.formatMessage(messages.doneTaskDescription) + taskName;\n      } else if (kind == 2 || kind == 6) {\n        return translate.formatMessage(messages.studentNewTaskDescription) + taskName;\n      } else if (kind == 3 || kind == 7) {\n        return translate.formatMessage(messages.cancelTaskDescription) + taskName;\n      }\n    } else if (profile?.kind == UserTypes.LEADER) {\n      if (kind == 2 || kind == 6) {\n        return translate.formatMessage(messages.leaderNewTaskDescription) + taskName;\n      } else if (kind == 4 || kind == 8) {\n        return translate.formatMessage(messages.leaderDoneTaskDescription) + taskName;\n      }\n    }\n  };\n  const timeNotification = createdDate => {\n    const dateTime = convertStringToDateTime(createdDate, DEFAULT_FORMAT, DEFAULT_FORMAT).add(7, 'hour');\n    const dateTimeString = convertDateTimeToString(dateTime, DEFAULT_FORMAT);\n    return dateTimeString;\n  };\n  const handleOnClickChecked = (e, id) => {\n    e.stopPropagation();\n    executeUpdateState({\n      data: {\n        id\n      }\n    });\n    if (hiddenItems?.length == dataNotificationUnRead?.length - 1) {\n      setReadAll(true);\n    }\n    setHiddenItems([...hiddenItems, id]);\n  };\n  const handleLoadMore = () => {\n    setIsLoadMore(true);\n    if (!activeButtonAll) {\n      executeGetData({\n        params: {\n          state: 0,\n          page: countLoadMore\n        }\n      });\n    } else {\n      executeGetData({\n        params: {\n          page: countLoadMore\n        }\n      });\n    }\n    setCountLoadMore(countLoadMore += 1);\n  };\n  const handleReadAll = () => {\n    executeReadAll();\n    setReadAll(true);\n  };\n  const handleDeleteAll = () => {\n    Modal.confirm({\n      title: translate.formatMessage(messages.deleteAllConfirm),\n      centered: true,\n      okText: translate.formatMessage(commonMessage.yes),\n      okType: 'danger',\n      cancelText: translate.formatMessage(commonMessage.no),\n      onOk: () => {\n        executeDeleteAll();\n        setDeleteAll(true);\n      }\n    });\n  };\n  const handleClickItem = item => {\n    const kind = item?.kind;\n    executeUpdateState({\n      data: {\n        id: item?.id\n      }\n    });\n    if (hiddenItems?.length == dataNotificationUnRead?.length - 1) {\n      setReadAll(true);\n    }\n    setHiddenItems([...hiddenItems, item?.id]);\n    setActiveIcon(false);\n    if (kind == 1 || kind == 2 || kind == 3 || kind == 4) {\n      if (profile?.kind == UserTypes.STUDENT) {\n        navigate(routes.projectStudentTaskListPage.path + `?projectId=${item?.projectId}&projectName=${item?.projectName}&developerId=${profile?.id}&active=true`);\n      } else if (profile?.kind == UserTypes.LEADER) {\n        navigate(routes.projectLeaderTaskListPage.path + `?projectId=${item?.projectId}&projectName=${item?.projectName}&active=true`);\n      }\n    } else if (kind == 5 || kind == 6 || kind == 7 || kind == 8) {\n      if (profile?.kind == UserTypes.STUDENT) {\n        navigate(routes.courseStudentListPage.path + `/task/${item?.courseId}?courseId=${item?.courseId}&courseName=${item?.courseName}`);\n      } else if (profile?.kind == UserTypes.LEADER) {\n        navigate(routes.courseLeaderListPage.path + `/task/${item?.courseId}?courseId=${item?.courseId}&courseName=${item?.courseName}`);\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(HeadlessTippy, _extends({\n    interactive: true,\n    placement: \"bottom-end\",\n    trigger: \"click\",\n    onClickOutside: () => setActiveIcon(false),\n    visible: activeIcon,\n    onShow: () => {\n      setActiveIcon(true);\n    },\n    onHide: () => {\n      setActiveIcon(false);\n    },\n    offset: [30, 12],\n    render: attrs => /*#__PURE__*/React.createElement(Card, {\n      className: styles.wrapper\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.wrapperButton\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n      type: activeButtonAll ? 'primary' : 'default',\n      shape: \"round\",\n      onClick: () => {\n        setActiveButtonAll(true);\n      },\n      style: {\n        marginRight: '4px'\n      }\n    }, translate.formatMessage(commonMessage.all)), /*#__PURE__*/React.createElement(Button, {\n      type: !activeButtonAll ? 'primary' : 'default',\n      shape: \"round\",\n      onClick: () => {\n        setActiveButtonAll(false);\n      }\n    }, translate.formatMessage(commonMessage.unRead))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      shape: \"round\",\n      style: {\n        marginRight: '4px'\n      },\n      onClick: handleReadAll\n    }, translate.formatMessage(commonMessage.readAll)), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        color: 'white',\n        backgroundColor: 'red'\n      },\n      type: \"default\",\n      shape: \"round\",\n      onClick: handleDeleteAll\n    }, translate.formatMessage(commonMessage.deleteAll)))), loading ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 2\n      }\n    }), /*#__PURE__*/React.createElement(Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 2\n      }\n    }), /*#__PURE__*/React.createElement(Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 2\n      }\n    }), /*#__PURE__*/React.createElement(Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 2\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", null, dataNotification?.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: item.id,\n        className: styles.notificationItem + ' ' + ((item?.state == 1 || hiddenItems.includes(item?.id) || readAll) && styles.viewed),\n        style: {\n          display: hiddenItems.includes(item?.id) && !activeButtonAll || deleteAll || readAll && !activeButtonAll ? 'none' : ''\n        },\n        onClick: () => handleClickItem(item)\n      }, iconNotification(item?.kind, {\n        marginRight: '16px'\n      }, 36), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          whiteSpace: 'normal',\n          width: '410px'\n        }\n      }, /*#__PURE__*/React.createElement(\"text\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column'\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontWeight: 700\n        }\n      }, titleNotification(item)), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontWeight: 600,\n          width: '350px',\n          wordWrap: 'break-word'\n        }\n      }, descriptionNotification(item))), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          paddingTop: '4px'\n        }\n      }, timeNotification(item?.createdDate))), item?.state == 0 && !hiddenItems.includes(item?.id) && !readAll && /*#__PURE__*/React.createElement(BaseTooltip, {\n        title: translate.formatMessage(commonMessage.markAsRead)\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"link\",\n        style: {\n          paddingRight: '10px'\n        },\n        onClick: e => handleOnClickChecked(e, item?.id)\n      }, /*#__PURE__*/React.createElement(IconCheck, {\n        color: \"#2b6fab\"\n      }))));\n    })), pageTotal > 0 && countLoadMore != pageTotal && !deleteAll && !(readAll && !activeButtonAll) && !loading && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '6px'\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleLoadMore\n    }, translate.formatMessage(commonMessage.loadMore))))\n  }, props), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    onClick: () => {\n      activeIcon ? setActiveIcon(false) : setActiveIcon(true);\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    dot: unReadTotal > 0 && !readAll && !deleteAll && !loading || hasNotification\n  }, activeIcon ? /*#__PURE__*/React.createElement(IconBellFilled, null) : /*#__PURE__*/React.createElement(IconBell, null))));\n};\n_s(NotificationForm, \"n++fVD4/XG90SC9SBSgamrL5UWc=\", false, function () {\n  return [useTranslate, useNavigate, useAuth, useFetch, useFetch];\n});\n_c = NotificationForm;\nvar _c;\n$RefreshReg$(_c, \"NotificationForm\");","map":{"version":3,"names":["DEFAULT_FORMAT","UserTypes","apiConfig","useAuth","useFetch","useTranslate","commonMessage","routes","IconBell","IconBellFilled","IconCheck","IconCircleCheck","IconCircleX","IconInfoCircle","HeadlessTippy","convertDateTimeToString","convertStringToDateTime","Badge","Button","Card","Modal","Skeleton","React","useEffect","useState","defineMessages","useNavigate","BaseTooltip","styles","IconBellRinging","messages","doneTaskDescription","studentNewTaskDescription","cancelTaskDescription","leaderNewTaskDescription","leaderDoneTaskDescription","deleteAllConfirm","NotificationForm","data","executeGetData","executeUpdateState","loading","unReadTotal","pageTotal","props","_s","activeButtonAll","setActiveButtonAll","activeIcon","setActiveIcon","translate","dataNotification","setDataNotification","isLoadMore","setIsLoadMore","countLoadMore","setCountLoadMore","hiddenItems","setHiddenItems","deleteAll","setDeleteAll","readAll","setReadAll","dataNotificationUnRead","setDataNotificationUnRead","hasNotification","setHasNotification","navigate","hostPath","window","location","host","profile","execute","executeReadAll","notification","immediate","executeDeleteAll","interval","setInterval","hasNotificationLocalStr","JSON","parse","localStorage","getItem","clearInterval","filter","item","state","params","setItem","iconNotification","kind","style","size","createElement","color","titleNotification","projectNameTitle","formatMessage","project","projectName","courseNameTitle","course","courseName","title","doneTaskTitle","newTaskTitle","cancelTaskTitle","notifyDoneTaskTitle","descriptionNotification","taskName","lectureName","STUDENT","LEADER","timeNotification","createdDate","dateTime","add","dateTimeString","handleOnClickChecked","e","id","stopPropagation","length","handleLoadMore","page","handleReadAll","handleDeleteAll","confirm","centered","okText","yes","okType","cancelText","no","onOk","handleClickItem","projectStudentTaskListPage","path","projectId","projectLeaderTaskListPage","courseStudentListPage","courseId","courseLeaderListPage","_extends","interactive","placement","trigger","onClickOutside","visible","onShow","onHide","offset","render","attrs","className","wrapper","wrapperButton","type","shape","onClick","marginRight","all","unRead","backgroundColor","active","paragraph","rows","map","key","notificationItem","includes","viewed","display","flexDirection","whiteSpace","width","fontWeight","wordWrap","paddingTop","markAsRead","paddingRight","justifyContent","marginTop","loadMore","alignItems","dot","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/components/common/form/NotificationForm.js"],"sourcesContent":["import { DEFAULT_FORMAT, UserTypes } from '@constants';\r\nimport apiConfig from '@constants/apiConfig';\r\nimport useAuth from '@hooks/useAuth';\r\nimport useFetch from '@hooks/useFetch';\r\nimport useTranslate from '@hooks/useTranslate';\r\nimport { commonMessage } from '@locales/intl';\r\nimport routes from '@routes';\r\nimport { IconBell, IconBellFilled, IconCheck, IconCircleCheck, IconCircleX, IconInfoCircle } from '@tabler/icons-react';\r\nimport HeadlessTippy from '@tippyjs/react/headless';\r\nimport { convertDateTimeToString, convertStringToDateTime } from '@utils/dayHelper';\r\nimport { Badge, Button, Card, Modal, Skeleton } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { defineMessages } from 'react-intl';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { BaseTooltip } from './BaseTooltip';\r\nimport styles from './NotificationForm.module.scss';\r\nimport { IconBellRinging } from '@tabler/icons-react';\r\nconst messages = defineMessages({\r\n    doneTaskDescription: 'Bạn đã hoàn thành task: ',\r\n    studentNewTaskDescription: 'Bạn đã được giao task: ',\r\n    cancelTaskDescription: 'Bạn đã bị huỷ task : ',\r\n    leaderNewTaskDescription: 'Một task mới được tạo: ',\r\n    leaderDoneTaskDescription: 'Thông báo xong task: ',\r\n    deleteAllConfirm: 'Bạn có muốn xoá toàn bộ thông báo không ?',\r\n});\r\n\r\nexport const NotificationForm = ({\r\n    data,\r\n    executeGetData,\r\n    executeUpdateState,\r\n    loading,\r\n    unReadTotal,\r\n    pageTotal,\r\n    ...props\r\n}) => {\r\n    const [activeButtonAll, setActiveButtonAll] = useState(true);\r\n    const [activeIcon, setActiveIcon] = useState(false);\r\n    const translate = useTranslate();\r\n    const [dataNotification, setDataNotification] = useState([]);\r\n    const [isLoadMore, setIsLoadMore] = useState(false);\r\n    let [countLoadMore, setCountLoadMore] = useState(1);\r\n    const [hiddenItems, setHiddenItems] = useState([]);\r\n    const [deleteAll, setDeleteAll] = useState(false);\r\n    const [readAll, setReadAll] = useState(false);\r\n    const [dataNotificationUnRead, setDataNotificationUnRead] = useState([]);\r\n    const [hasNotification, setHasNotification] = useState(false);\r\n    const navigate = useNavigate();\r\n    const hostPath = window.location.host;\r\n    const { profile } = useAuth();\r\n    const { execute: executeReadAll } = useFetch(apiConfig.notification.readAll, {\r\n        immediate: false,\r\n    });\r\n    const { execute: executeDeleteAll } = useFetch(apiConfig.notification.deleteAll, {\r\n        immediate: false,\r\n    });\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            const hasNotificationLocalStr = JSON.parse(localStorage.getItem('hasNotification'));\r\n            if (hasNotificationLocalStr && !hasNotification) {\r\n                setHasNotification(true);\r\n            }\r\n        }, 1000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isLoadMore && data) {\r\n            setDataNotification([...dataNotification, ...data]);\r\n        } else {\r\n            setDataNotification(data);\r\n        }\r\n    }, [data]);\r\n    useEffect(() => {\r\n        setDataNotificationUnRead(dataNotification?.filter((item) => item.state == 0));\r\n    }, [dataNotification]);\r\n    useEffect(() => {\r\n        if (activeIcon) {\r\n            if (activeButtonAll) {\r\n                executeGetData();\r\n            } else {\r\n                executeGetData({\r\n                    params: { state: 0 },\r\n                });\r\n            }\r\n            setReadAll(false);\r\n            setDeleteAll(false);\r\n            localStorage.setItem('hasNotification', false);\r\n            setHasNotification(false);\r\n        }\r\n        setHiddenItems([]);\r\n    }, [activeIcon]);\r\n\r\n    useEffect(() => {\r\n        if (activeIcon) {\r\n            if (!activeButtonAll) {\r\n                executeGetData({\r\n                    params: { state: 0 },\r\n                });\r\n            } else {\r\n                executeGetData();\r\n            }\r\n        }\r\n        setIsLoadMore(false);\r\n        setCountLoadMore(1);\r\n        setHiddenItems([]);\r\n    }, [activeButtonAll]);\r\n    const iconNotification = (kind, style, size) => {\r\n        if (kind == 1 || kind == 5) {\r\n            return <IconCircleCheck color=\"green\" style={style} size={size} />;\r\n        } else if (kind == 2 || kind == 6) {\r\n            return <IconInfoCircle color=\"blue\" style={style} size={size} />;\r\n        } else if (kind == 3 || kind == 7) {\r\n            return <IconCircleX color=\"red\" style={style} size={size} />;\r\n        } else if (kind == 4 || kind == 8) {\r\n            return <IconBellRinging color=\"orange\" style={style} size={size} />;\r\n        }\r\n    };\r\n    const titleNotification = (item) => {\r\n        const kind = item?.kind;\r\n        const projectNameTitle = translate.formatMessage(commonMessage.project) + ` ${item?.projectName}: `;\r\n        const courseNameTitle = translate.formatMessage(commonMessage.course) + ` ${item?.courseName}: `;\r\n        const title = item?.projectName ? projectNameTitle : courseNameTitle;\r\n        if (kind == 1 || kind == 5) {\r\n            return title + translate.formatMessage(commonMessage.doneTaskTitle);\r\n        } else if (kind == 2 || kind == 6) {\r\n            return title + translate.formatMessage(commonMessage.newTaskTitle);\r\n        } else if (kind == 3 || kind == 7) {\r\n            return title + translate.formatMessage(commonMessage.cancelTaskTitle);\r\n        } else if (kind == 4 || kind == 8) {\r\n            return title + translate.formatMessage(commonMessage.notifyDoneTaskTitle);\r\n        }\r\n    };\r\n    const descriptionNotification = (item) => {\r\n        const kind = item?.kind;\r\n        const taskName = item?.taskName ? item?.taskName : item?.lectureName;\r\n        if (profile?.kind == UserTypes.STUDENT) {\r\n            if (kind == 1 || kind == 5) {\r\n                return translate.formatMessage(messages.doneTaskDescription) + taskName;\r\n            } else if (kind == 2 || kind == 6) {\r\n                return translate.formatMessage(messages.studentNewTaskDescription) + taskName;\r\n            } else if (kind == 3 || kind == 7) {\r\n                return translate.formatMessage(messages.cancelTaskDescription) + taskName;\r\n            }\r\n        } else if (profile?.kind == UserTypes.LEADER) {\r\n            if (kind == 2 || kind == 6) {\r\n                return translate.formatMessage(messages.leaderNewTaskDescription) + taskName;\r\n            } else if (kind == 4 || kind == 8) {\r\n                return translate.formatMessage(messages.leaderDoneTaskDescription) + taskName;\r\n            }\r\n        }\r\n    };\r\n    const timeNotification = (createdDate) => {\r\n        const dateTime = convertStringToDateTime(createdDate, DEFAULT_FORMAT, DEFAULT_FORMAT).add(7, 'hour');\r\n        const dateTimeString = convertDateTimeToString(dateTime, DEFAULT_FORMAT);\r\n        return dateTimeString;\r\n    };\r\n    const handleOnClickChecked = (e, id) => {\r\n        e.stopPropagation();\r\n        executeUpdateState({\r\n            data: { id },\r\n        });\r\n\r\n        if (hiddenItems?.length == dataNotificationUnRead?.length - 1) {\r\n            setReadAll(true);\r\n        }\r\n        setHiddenItems([...hiddenItems, id]);\r\n    };\r\n\r\n    const handleLoadMore = () => {\r\n        setIsLoadMore(true);\r\n        if (!activeButtonAll) {\r\n            executeGetData({\r\n                params: { state: 0, page: countLoadMore },\r\n            });\r\n        } else {\r\n            executeGetData({\r\n                params: { page: countLoadMore },\r\n            });\r\n        }\r\n        setCountLoadMore((countLoadMore += 1));\r\n    };\r\n    const handleReadAll = () => {\r\n        executeReadAll();\r\n        setReadAll(true);\r\n    };\r\n    const handleDeleteAll = () => {\r\n        Modal.confirm({\r\n            title: translate.formatMessage(messages.deleteAllConfirm),\r\n            centered: true,\r\n            okText: translate.formatMessage(commonMessage.yes),\r\n            okType: 'danger',\r\n            cancelText: translate.formatMessage(commonMessage.no),\r\n            onOk: () => {\r\n                executeDeleteAll();\r\n                setDeleteAll(true);\r\n            },\r\n        });\r\n    };\r\n    const handleClickItem = (item) => {\r\n        const kind = item?.kind;\r\n        executeUpdateState({\r\n            data: { id: item?.id },\r\n        });\r\n        if (hiddenItems?.length == dataNotificationUnRead?.length - 1) {\r\n            setReadAll(true);\r\n        }\r\n        setHiddenItems([...hiddenItems, item?.id]);\r\n        setActiveIcon(false);\r\n        if(kind == 1 || kind == 2 || kind == 3 || kind == 4){\r\n            if (profile?.kind == UserTypes.STUDENT) {\r\n                navigate(\r\n                    routes.projectStudentTaskListPage.path +\r\n                        `?projectId=${item?.projectId}&projectName=${item?.projectName}&developerId=${profile?.id}&active=true`,\r\n                );\r\n            } else if (profile?.kind == UserTypes.LEADER) {\r\n                navigate(\r\n                    routes.projectLeaderTaskListPage.path +\r\n                        `?projectId=${item?.projectId}&projectName=${item?.projectName}&active=true`,\r\n                );\r\n            }\r\n        } else if(kind == 5 || kind == 6 || kind == 7 || kind == 8){\r\n            if (profile?.kind == UserTypes.STUDENT) {\r\n                navigate(\r\n                    routes.courseStudentListPage.path +\r\n                        `/task/${item?.courseId}?courseId=${item?.courseId}&courseName=${item?.courseName}`,\r\n                );\r\n            } else if (profile?.kind == UserTypes.LEADER) {\r\n                navigate(\r\n                    routes.courseLeaderListPage.path +\r\n                    `/task/${item?.courseId}?courseId=${item?.courseId}&courseName=${item?.courseName}`,\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <HeadlessTippy\r\n            interactive\r\n            placement=\"bottom-end\"\r\n            trigger=\"click\"\r\n            onClickOutside={() => setActiveIcon(false)}\r\n            visible={activeIcon}\r\n            onShow={() => {\r\n                setActiveIcon(true);\r\n            }}\r\n            onHide={() => {\r\n                setActiveIcon(false);\r\n            }}\r\n            offset={[30, 12]}\r\n            render={(attrs) => (\r\n                <Card className={styles.wrapper}>\r\n                    <div className={styles.wrapperButton}>\r\n                        <div>\r\n                            <Button\r\n                                type={activeButtonAll ? 'primary' : 'default'}\r\n                                shape=\"round\"\r\n                                onClick={() => {\r\n                                    setActiveButtonAll(true);\r\n                                }}\r\n                                style={{ marginRight: '4px' }}\r\n                            >\r\n                                {translate.formatMessage(commonMessage.all)}\r\n                            </Button>\r\n                            <Button\r\n                                type={!activeButtonAll ? 'primary' : 'default'}\r\n                                shape=\"round\"\r\n                                onClick={() => {\r\n                                    setActiveButtonAll(false);\r\n                                }}\r\n                            >\r\n                                {translate.formatMessage(commonMessage.unRead)}\r\n                            </Button>\r\n                        </div>\r\n                        <div>\r\n                            <Button type=\"default\" shape=\"round\" style={{ marginRight: '4px' }} onClick={handleReadAll}>\r\n                                {translate.formatMessage(commonMessage.readAll)}\r\n                            </Button>\r\n                            <Button\r\n                                style={{ color: 'white', backgroundColor: 'red' }}\r\n                                type=\"default\"\r\n                                shape=\"round\"\r\n                                onClick={handleDeleteAll}\r\n                            >\r\n                                {translate.formatMessage(commonMessage.deleteAll)}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    {loading ? (\r\n                        <div>\r\n                            <Skeleton active paragraph={{ rows: 2 }} />\r\n                            <Skeleton active paragraph={{ rows: 2 }} />\r\n                            <Skeleton active paragraph={{ rows: 2 }} />\r\n                            <Skeleton active paragraph={{ rows: 2 }} />\r\n                        </div>\r\n                    ) : (\r\n                        <div>\r\n                            {dataNotification?.map((item) => {\r\n                                return (\r\n                                    <div\r\n                                        key={item.id}\r\n                                        className={\r\n                                            styles.notificationItem +\r\n                                            ' ' +\r\n                                            ((item?.state == 1 || hiddenItems.includes(item?.id) || readAll) &&\r\n                                                styles.viewed)\r\n                                        }\r\n                                        style={{\r\n                                            display:\r\n                                                (hiddenItems.includes(item?.id) && !activeButtonAll) ||\r\n                                                deleteAll ||\r\n                                                (readAll && !activeButtonAll)\r\n                                                    ? 'none'\r\n                                                    : '',\r\n                                        }}\r\n                                        onClick={() => handleClickItem(item)}\r\n                                    >\r\n                                        {iconNotification(item?.kind, { marginRight: '16px' }, 36)}\r\n                                        <div\r\n                                            style={{\r\n                                                display: 'flex',\r\n                                                flexDirection: 'column',\r\n                                                whiteSpace: 'normal',\r\n                                                width: '410px',\r\n                                            }}\r\n                                        >\r\n                                            <text style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                                <span style={{ fontWeight: 700 }}>{titleNotification(item)}</span>\r\n                                                <span\r\n                                                    style={{ fontWeight: 600, width: '350px', wordWrap: 'break-word' }}\r\n                                                >\r\n                                                    {descriptionNotification(item)}\r\n                                                </span>\r\n                                            </text>\r\n                                            <span style={{ paddingTop: '4px' }}>\r\n                                                {timeNotification(item?.createdDate)}\r\n                                            </span>\r\n                                        </div>\r\n                                        {item?.state == 0 && !hiddenItems.includes(item?.id) && !readAll && (\r\n                                            <BaseTooltip title={translate.formatMessage(commonMessage.markAsRead)}>\r\n                                                <Button\r\n                                                    type=\"link\"\r\n                                                    style={{ paddingRight: '10px' }}\r\n                                                    onClick={(e) => handleOnClickChecked(e, item?.id)}\r\n                                                >\r\n                                                    <IconCheck color=\"#2b6fab\" />\r\n                                                </Button>\r\n                                            </BaseTooltip>\r\n                                        )}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    )}\r\n                    {pageTotal > 0 &&\r\n                        countLoadMore != pageTotal &&\r\n                        !deleteAll &&\r\n                        !(readAll && !activeButtonAll) &&\r\n                        !loading && (\r\n                        <div style={{ display: 'flex', justifyContent: 'center', marginTop: '6px' }}>\r\n                            <Button onClick={handleLoadMore}>\r\n                                {translate.formatMessage(commonMessage.loadMore)}\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                </Card>\r\n            )}\r\n            {...props}\r\n        >\r\n            <div\r\n                style={{ display: 'flex', alignItems: 'center' }}\r\n                onClick={() => {\r\n                    activeIcon ? setActiveIcon(false) : setActiveIcon(true);\r\n                }}\r\n            >\r\n                <Badge dot={(unReadTotal > 0 && !readAll && !deleteAll && !loading) || hasNotification}>\r\n                    {activeIcon ? <IconBellFilled /> : <IconBell />}\r\n                </Badge>\r\n            </div>\r\n        </HeadlessTippy>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}