{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nimport apiConfig from '@constants/apiConfig';\nimport routes from './routes';\nimport PageWrapper from '@components/common/layout/PageWrapper';\nimport StudentForm from './studentForm';\nimport useTranslate from '@hooks/useTranslate';\nimport useSaveBase from '@hooks/useSaveBase';\nimport { generatePath, useParams } from 'react-router-dom';\nimport { defineMessages } from 'react-intl';\nconst message = defineMessages({\n  objectName: {\n    \"id\": \"modules.account.student.studentSavePage.objectName\",\n    \"defaultMessage\": 'Sinh viên'\n  },\n  student: {\n    \"id\": \"modules.account.student.studentSavePage.student\",\n    \"defaultMessage\": 'Sinh viên'\n  }\n});\nconst StudentSavePage = () => {\n  _s();\n  const studentId = useParams();\n  const translate = useTranslate();\n  const {\n    detail,\n    onSave,\n    mixinFuncs,\n    setIsChangedFormValues,\n    isEditing,\n    errors,\n    loading,\n    title\n  } = useSaveBase({\n    apiConfig: {\n      getById: apiConfig.student.getById,\n      create: apiConfig.student.create,\n      update: apiConfig.student.update\n    },\n    options: {\n      getListUrl: routes.studentListPage.path,\n      objectName: translate.formatMessage(message.objectName)\n    },\n    override: funcs => {\n      funcs.prepareUpdateData = data => {\n        return {\n          ...data,\n          id: detail.id\n        };\n      };\n      funcs.prepareCreateData = data => {\n        return {\n          ...data\n        };\n      };\n    }\n  });\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    loading: loading,\n    routes: [{\n      breadcrumbName: translate.formatMessage(message.student),\n      path: generatePath(routes.studentListPage.path, {\n        studentId\n      })\n    }, {\n      breadcrumbName: title\n    }],\n    title: title\n  }, /*#__PURE__*/React.createElement(StudentForm, {\n    formId: mixinFuncs.getFormId(),\n    actions: mixinFuncs.renderActions(),\n    dataDetail: detail ? detail : {},\n    onSubmit: onSave,\n    setIsChangedFormValues: setIsChangedFormValues,\n    isError: errors,\n    isEditing: isEditing\n  }));\n};\n_s(StudentSavePage, \"WKL/IhVHtYkxZrqc+rhwBgdSJGE=\", false, function () {\n  return [useParams, useTranslate, useSaveBase];\n});\n_c = StudentSavePage;\nexport default StudentSavePage;\nvar _c;\n$RefreshReg$(_c, \"StudentSavePage\");","map":{"version":3,"names":["React","apiConfig","routes","PageWrapper","StudentForm","useTranslate","useSaveBase","generatePath","useParams","defineMessages","message","objectName","student","StudentSavePage","_s","studentId","translate","detail","onSave","mixinFuncs","setIsChangedFormValues","isEditing","errors","loading","title","getById","create","update","options","getListUrl","studentListPage","path","formatMessage","override","funcs","prepareUpdateData","data","id","prepareCreateData","createElement","breadcrumbName","formId","getFormId","actions","renderActions","dataDetail","onSubmit","isError","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/elms-cms/elms-cms/source/src/modules/account/student/studentSavePage.js"],"sourcesContent":["import React from 'react';\r\nimport apiConfig from '@constants/apiConfig';\r\nimport routes from './routes';\r\nimport PageWrapper from '@components/common/layout/PageWrapper';\r\nimport StudentForm from './studentForm';\r\nimport useTranslate from '@hooks/useTranslate';\r\nimport useSaveBase from '@hooks/useSaveBase';\r\nimport { generatePath, useParams } from 'react-router-dom';\r\nimport { defineMessages } from 'react-intl';\r\nconst message = defineMessages({\r\n    objectName:'Sinh viên',\r\n    student: 'Sinh viên',\r\n});\r\n\r\nconst StudentSavePage = () => {\r\n    const studentId = useParams();\r\n    const translate = useTranslate();\r\n    \r\n    const { detail, onSave, mixinFuncs,setIsChangedFormValues,isEditing,errors, loading, title } = useSaveBase({\r\n        apiConfig: {\r\n            getById: apiConfig.student.getById,\r\n            create: apiConfig.student.create,\r\n            update: apiConfig.student.update,\r\n        },\r\n        options:{\r\n            getListUrl: routes.studentListPage.path,\r\n            objectName: translate.formatMessage(message.objectName),\r\n        },\r\n        override: (funcs) => {\r\n            funcs.prepareUpdateData = (data) => {\r\n                return {\r\n                    ...data,\r\n                    id: detail.id,\r\n                };\r\n            };\r\n            funcs.prepareCreateData = (data) => {\r\n                return {\r\n                    ...data,\r\n                };\r\n            };\r\n        },\r\n\r\n    });\r\n    return(\r\n        <PageWrapper\r\n            loading = {loading}\r\n            routes={[\r\n                { breadcrumbName: translate.formatMessage(message.student),\r\n                    path: generatePath(routes.studentListPage.path, { studentId } ) },\r\n                { breadcrumbName: title },\r\n            ]}\r\n            title={title}\r\n        >\r\n            <StudentForm\r\n                formId={mixinFuncs.getFormId()}\r\n                actions = {mixinFuncs.renderActions()}\r\n                dataDetail = {detail ? detail : {}}\r\n                onSubmit = {onSave}\r\n                setIsChangedFormValues = {setIsChangedFormValues}\r\n                isError = {errors}\r\n                isEditing = {isEditing}\r\n            />\r\n        </PageWrapper>\r\n    );\r\n};\r\nexport default StudentSavePage;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,WAAW,MAAM,uCAAuC;AAC/D,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,SAASC,YAAY,EAAEC,SAAS,QAAQ,kBAAkB;AAC1D,SAASC,cAAc,QAAQ,YAAY;AAC3C,MAAMC,OAAO,GAAGD,cAAc,CAAC;EAC3BE,UAAU;IAAA;IAAA,kBAAC;EAAW;EACtBC,OAAO;IAAA;IAAA,kBAAE;EAAW;AACxB,CAAC,CAAC;AAEF,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAMC,SAAS,GAAGP,SAAS,CAAC,CAAC;EAC7B,MAAMQ,SAAS,GAAGX,YAAY,CAAC,CAAC;EAEhC,MAAM;IAAEY,MAAM;IAAEC,MAAM;IAAEC,UAAU;IAACC,sBAAsB;IAACC,SAAS;IAACC,MAAM;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGlB,WAAW,CAAC;IACvGL,SAAS,EAAE;MACPwB,OAAO,EAAExB,SAAS,CAACW,OAAO,CAACa,OAAO;MAClCC,MAAM,EAAEzB,SAAS,CAACW,OAAO,CAACc,MAAM;MAChCC,MAAM,EAAE1B,SAAS,CAACW,OAAO,CAACe;IAC9B,CAAC;IACDC,OAAO,EAAC;MACJC,UAAU,EAAE3B,MAAM,CAAC4B,eAAe,CAACC,IAAI;MACvCpB,UAAU,EAAEK,SAAS,CAACgB,aAAa,CAACtB,OAAO,CAACC,UAAU;IAC1D,CAAC;IACDsB,QAAQ,EAAGC,KAAK,IAAK;MACjBA,KAAK,CAACC,iBAAiB,GAAIC,IAAI,IAAK;QAChC,OAAO;UACH,GAAGA,IAAI;UACPC,EAAE,EAAEpB,MAAM,CAACoB;QACf,CAAC;MACL,CAAC;MACDH,KAAK,CAACI,iBAAiB,GAAIF,IAAI,IAAK;QAChC,OAAO;UACH,GAAGA;QACP,CAAC;MACL,CAAC;IACL;EAEJ,CAAC,CAAC;EACF,oBACIpC,KAAA,CAAAuC,aAAA,CAACpC,WAAW;IACRoB,OAAO,EAAIA,OAAQ;IACnBrB,MAAM,EAAE,CACJ;MAAEsC,cAAc,EAAExB,SAAS,CAACgB,aAAa,CAACtB,OAAO,CAACE,OAAO,CAAC;MACtDmB,IAAI,EAAExB,YAAY,CAACL,MAAM,CAAC4B,eAAe,CAACC,IAAI,EAAE;QAAEhB;MAAU,CAAE;IAAE,CAAC,EACrE;MAAEyB,cAAc,EAAEhB;IAAM,CAAC,CAC3B;IACFA,KAAK,EAAEA;EAAM,gBAEbxB,KAAA,CAAAuC,aAAA,CAACnC,WAAW;IACRqC,MAAM,EAAEtB,UAAU,CAACuB,SAAS,CAAC,CAAE;IAC/BC,OAAO,EAAIxB,UAAU,CAACyB,aAAa,CAAC,CAAE;IACtCC,UAAU,EAAI5B,MAAM,GAAGA,MAAM,GAAG,CAAC,CAAE;IACnC6B,QAAQ,EAAI5B,MAAO;IACnBE,sBAAsB,EAAIA,sBAAuB;IACjD2B,OAAO,EAAIzB,MAAO;IAClBD,SAAS,EAAIA;EAAU,CAC1B,CACQ,CAAC;AAEtB,CAAC;AAACP,EAAA,CAlDID,eAAe;EAAA,QACCL,SAAS,EACTH,YAAY,EAEiEC,WAAW;AAAA;AAAA0C,EAAA,GAJxGnC,eAAe;AAmDrB,eAAeA,eAAe;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}